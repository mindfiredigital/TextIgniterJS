{"version":3,"sources":["../../core/dist/index.js","../src/index.ts","../src/component/TextIgniterComponent.ts","#style-inject:#style-inject","../../core/dist/styles/text-igniter.css"],"sourcesContent":["!function(t,e){\"object\"==typeof exports&&\"undefined\"!=typeof module?e(exports):\"function\"==typeof define&&define.amd?define([\"exports\"],e):e((t=\"undefined\"!=typeof globalThis?globalThis:t||self).TextIgniter={})}(this,function(t){\"use strict\";class e{constructor(){this.events={}}on(t,e){this.events[t]||(this.events[t]=[]),this.events[t].push(e)}emit(t,e){this.events[t]&&this.events[t].forEach(t=>t(e))}}class n{constructor(t,e={}){this.text=t;const n=document.getElementById(\"fontFamily\"),i=document.getElementById(\"fontSize\");let o=\"Arial\",s=\"16px\",l=document.getElementById(\"fontColorPicker\"),r=document.getElementById(\"bgColorPicker\");n&&(o=n.value),i&&(s=i.value);const a=e.fontColor||(l?l.value:\"#000000\"),d=e.bgColor||(r?r.value:\"#ffffff\");this.attributes={bold:e.bold||!1,italic:e.italic||!1,underline:e.underline||!1,strikethrough:e.strikethrough||!1,undo:e.undo||!1,redo:e.redo||!1,fontFamily:e.fontFamily||o,fontSize:e.fontSize||s,hyperlink:e.hyperlink||!1,fontColor:a,bgColor:d}}isBold(){return this.attributes.bold}setBold(t){this.attributes.bold=t}isItalic(){return this.attributes.italic}isUndo(){return this.attributes.undo}isRedo(){return this.attributes.redo}setItalic(t){this.attributes.italic=t}isUnderline(){return this.attributes.underline}setUnderline(t){this.attributes.underline=t}isStrikethrough(){return this.attributes.strikethrough||!1}setStrikethrough(t){this.attributes.strikethrough=t}setUndo(t){this.attributes.undo=t}setRedo(t){this.attributes.redo=t}clone(){return new n(this.text,Object.assign({},this.attributes))}hasSameAttributes(t){return this.attributes.bold===t.attributes.bold&&this.attributes.italic===t.attributes.italic&&this.attributes.underline===t.attributes.underline&&(this.attributes.strikethrough||!1)===(t.attributes.strikethrough||!1)&&this.attributes.undo===t.attributes.undo&&this.attributes.redo===t.attributes.redo&&this.attributes.fontFamily===t.attributes.fontFamily&&this.attributes.fontSize===t.attributes.fontSize&&this.attributes.italic===t.attributes.italic&&this.attributes.underline===t.attributes.underline&&this.attributes.hyperlink===t.attributes.hyperlink&&this.attributes.fontColor===t.attributes.fontColor&&this.attributes.bgColor===t.attributes.bgColor}getHyperlink(){return this.attributes.hyperlink||!1}setHyperlink(t){this.attributes.hyperlink=t}}class i extends e{get selectedBlockId(){return this._selectedBlockId}set selectedBlockId(t){if(this._selectedBlockId!==t){this._selectedBlockId=t;const e=this.getCursorOffset(document.querySelector('[id=\"editor\"]')),n=this.getCursorOffset(document.querySelector('[data-id=\"'+t+'\"]'));this.currentOffset=e-n}}constructor(){super(),this.dataIds=[],this.selectAll=!1,this._selectedBlockId=null,this.pieces=[new n(\"\")],this.blocks=[{type:\"text\",dataId:\"data-id-1734604240404\",class:\"paragraph-block\",alignment:\"left\",pieces:[new n(\"​\")]}],this.selectedBlockId=\"data-id-1734604240404\",this.currentOffset=0}setEditorView(t){this.editorView=t}getPlainText(){return this.pieces.map(t=>t.text).join(\"\")}setUndoRedoManager(t){this.undoRedoManager=t}insertAt(t,e,i,o=\"\",s=0,l=\"\",r=\"\",a=!1){a||\"batch\"===r||this.undoRedoManager.saveUndoSnapshot(),console.log(\"inserted,\",{start:i,text:t}),console.log(\"inserted,\",this.blocks);let d=0,c=[],h=!1,u=0;\"\"!==o&&null!==o&&(u=this.blocks.findIndex(t=>t.dataId===o),d=this.currentOffset);for(let o of this.blocks[u].pieces){const s=d+o.text.length;if(!h&&i<=s){const s=i-d;s>0&&c.push(new n(o.text.slice(0,s),Object.assign({},o.attributes))),c.push(new n(t,{bold:e.bold||!1,italic:e.italic||!1,underline:e.underline||!1,strikethrough:e.strikethrough||!1,hyperlink:e.hyperlink||!1})),s<o.text.length&&c.push(new n(o.text.slice(s),Object.assign({},o.attributes))),h=!0}else c.push(o.clone());d=s}if(!h){const i=c[c.length-1];i&&i.hasSameAttributes(new n(\"\",{bold:e.bold||!1,italic:e.italic||!1,underline:e.underline||!1,strikethrough:e.strikethrough||!1,hyperlink:e.hyperlink||!1}))?i.text+=t:c.push(new n(t,{bold:e.bold||!1,italic:e.italic||!1,underline:e.underline||!1,strikethrough:e.strikethrough||!1,hyperlink:e.hyperlink||!1}))}let p=this.mergePieces(c);this.blocks[u].pieces=p,console.log({position:i}),this.emit(\"documentChanged\",this)}deleteRange(t,e,i=\"\",o=0,s=!1){if(console.log(\"deleted2,\",{start:t,end:e}),t===e)return;let l=[],r=0,a=0,d=!1;if(\"\"!==i&&null!==i){if(a=this.blocks.findIndex(t=>t.dataId===i),-1===a)return;r=o}let c=-1;if(s&&t===r&&a>0&&e===t&&(c=a-1>=0&&\"image\"===this.blocks[a-1].type?a-2:a-1,c>=0&&this.blocks[c]))for(let t of this.blocks[c].pieces)l.push(t.clone()),d=!0;for(let i of this.blocks[a].pieces){const o=r+i.text.length,s=r;if(o<=t||s>=e)l.push(i.clone());else{const r=i.text;if(t>s){const e=r.slice(0,t-s);e.length>0&&l.push(new n(e,Object.assign({},i.attributes)))}if(e<o){const t=r.slice(e-s);t.length>0&&l.push(new n(t,Object.assign({},i.attributes)))}}r=o}let h=this.mergePieces(l),u=!1;d&&c>=0?(!this.blocks[a]||\"ol\"!==this.blocks[a].listType&&\"li\"!==this.blocks[a].listType||(u=!0),this.blocks[c].pieces=h,this.blocks.splice(a,1)):0===h.length?this.blocks.length>1?(!this.blocks[a]||\"ol\"!==this.blocks[a].listType&&\"li\"!==this.blocks[a].listType||(u=!0),this.blocks.splice(a,1)):(h=[new n(\" \")],this.blocks[a].pieces=h):this.blocks[a].pieces=h,u&&this.updateOrderedListNumbers(),this.emit(\"documentChanged\",this)}deleteBlocks(){const t=this.blocks.some(t=>this.dataIds.includes(t.dataId)&&(\"ol\"===t.listType||\"li\"===t.listType));this.blocks=this.blocks.filter(t=>{if(!this.dataIds.includes(t.dataId))return t}),this.dataIds=[],this.selectAll=!1,0===this.blocks.length&&this.blocks.push({dataId:`data-id-${Date.now()}`,class:\"paragraph-block\",type:\"text\",pieces:[new n(\"​\")]}),t&&this.updateOrderedListNumbers(),this.emit(\"documentChanged\",this)}getSelectedTextDataId(){const t=window.getSelection();if(!t||0===t.rangeCount)return null;const e=t.getRangeAt(0).startContainer,n=(e.nodeType===Node.TEXT_NODE?e.parentElement:e).closest(\"[data-id]\");return(null==n?void 0:n.getAttribute(\"data-id\"))||null}getAllSelectedDataIds(){var t;const e=window.getSelection();if(!e||0===e.rangeCount)return[];const n=e.getRangeAt(0),i=[],o=document.createNodeIterator(n.commonAncestorContainer,NodeFilter.SHOW_ELEMENT|NodeFilter.SHOW_TEXT);let s;for(;s=o.nextNode();)if(n.intersectsNode(s)){const e=s.nodeType===Node.TEXT_NODE?s.parentElement:s,n=null===(t=null==e?void 0:e.closest(\"[data-id]\"))||void 0===t?void 0:t.getAttribute(\"data-id\");n&&!i.includes(n)&&i.push(n)}return this.removeExclusiveEndBlock(n,i),this.dataIds=i,console.log(\"selected id 3\",this.dataIds,i),i}handleCtrlASelection(){const t=[],e=document.getElementById(\"editor\");if(e){e.querySelectorAll(\"[data-id]\").forEach(e=>{const n=e.getAttribute(\"data-id\");n&&!t.includes(n)&&t.push(n)})}return this.dataIds=t,console.log(\"selected id 2\",this.dataIds,t),t}getSelectedDataIds(){const t=window.getSelection();if(!t||0===t.rangeCount)return[];const e=t.getRangeAt(0),n=[],i=e.startContainer,o=e.endContainer,s=this.getDataIdFromNode(i),l=this.getDataIdFromNode(o);return s&&!n.includes(s)&&n.push(s),l&&!n.includes(l)&&n.push(l),this.removeExclusiveEndBlock(e,n),this.dataIds=n,console.log(\"selected id 1\",this.dataIds,n),n}getDataIdFromNode(t){var e;const n=t.nodeType===Node.TEXT_NODE?t.parentElement:t;return(null===(e=null==n?void 0:n.closest(\"[data-id]\"))||void 0===e?void 0:e.getAttribute(\"data-id\"))||null}getCursorOffset(t){const e=window.getSelection();if(!e||0===e.rangeCount)return-1;const n=e.getRangeAt(0);let i=0;const o=t=>{if(t===n.startContainer)return i+=n.startOffset,!0;t.nodeType===Node.TEXT_NODE&&(i+=(t.textContent||\"\").length);for(const e of Array.from(t.childNodes))if(o(e))return!0;return!1};return o(t),i}formatAttribute(t,e,i,o){console.log(\"formatAttribute\",t,e,i,o);let s=[],l=0,r=-1;if(\"\"!==this.selectedBlockId&&null!==this.selectedBlockId){if(r=this.blocks.findIndex(t=>t.dataId===this.selectedBlockId),-1===r)return;l=this.currentOffset}for(let a of this.blocks[r].pieces){const r=l+a.text.length;if(r<=t||l>=e)s.push(a.clone());else{const r=l,d=a.text,c=Math.max(t-r,0),h=Math.min(e-r,d.length);c>0&&s.push(new n(d.slice(0,c),Object.assign({},a.attributes)));const u=new n(d.slice(c,h),Object.assign({},a.attributes));(\"bold\"!==i&&\"italic\"!==i&&\"underline\"!==i&&\"strikethrough\"!==i&&\"undo\"!==i&&\"redo\"!==i&&\"hyperlink\"!==i||\"boolean\"!=typeof o)&&(\"fontFamily\"!==i&&\"fontSize\"!==i&&\"hyperlink\"!==i&&\"fontColor\"!==i&&\"bgColor\"!==i||\"string\"!=typeof o)||(u.attributes[i]=o),s.push(u),h<d.length&&s.push(new n(d.slice(h),Object.assign({},a.attributes)))}l=r}const a=this.mergePieces(s);this.blocks[r].pieces=a,this.emit(\"documentChanged\",this)}toggleOrderedList(t,e=\"\"){const n=this.blocks.findIndex(e=>e.dataId===t);if(-1===n)return;const i=this.blocks[n];\"ol\"===i.listType||\"li\"===i.listType?(i.listType=null,i.listStart=void 0,i.parentId=void 0):(i.listType=\"ol\",i.listStart=1,i.parentId=i.dataId),this.updateOrderedListNumbers(),this.emit(\"documentChanged\",this)}toggleOrderedListForMultipleBlocks(t){if(0===t.length)return;const e=t.sort((t,e)=>this.blocks.findIndex(e=>e.dataId===t)-this.blocks.findIndex(t=>t.dataId===e));if(e.every(t=>{const e=this.blocks.find(e=>e.dataId===t);return e&&(\"ol\"===e.listType||\"li\"===e.listType)}))e.forEach(t=>{const e=this.blocks.find(e=>e.dataId===t);e&&(e.listType=null,e.listStart=void 0,e.parentId=void 0)});else{const t=e[0];e.forEach((e,n)=>{const i=this.blocks.find(t=>t.dataId===e);i&&(0===n?(i.listType=\"ol\",i.listStart=1,i.parentId=t):(i.listType=\"li\",i.listStart=n+1,i.parentId=t))})}this.updateOrderedListNumbers(),this.emit(\"documentChanged\",this)}toggleUnorderedList(t){const e=this.blocks.findIndex(e=>e.dataId===t);if(-1===e)return;const n=this.blocks[e];n.listType=\"ul\"===n.listType?null:\"ul\",this.emit(\"documentChanged\",this)}updateOrderedListNumbers(){let t=1,e=null;for(let n=0;n<this.blocks.length;n++){const i=this.blocks[n];if(\"ol\"===i.listType||\"li\"===i.listType){(\"ol\"===i.listType||i.parentId!==e)&&(t=1,e=\"ol\"===i.listType?i.dataId:i.parentId),i.listStart=t,t++}else t=1,e=null}this.emit(\"documentChanged\",this)}undo(){console.log(\"undo\"),this.undoRedoManager.undo()}redo(){this.undoRedoManager.redo(),console.log(\"redo\")}setCursorPosition(t,e=\"\"){var n;if(\"\"!==e){const t=document.querySelector(`[data-id=\"${e}\"]`);if(!t)return void console.warn(`Element with data-id=\"${e}\" not found.`);setTimeout(()=>t.focus(),0)}else this.editorView.container.focus();const i=window.getSelection();if(!i)return;const o=document.createRange();let s=0;const l=[this.editorView.container];let r;const a=(null===(n=this.editorView.container.textContent)||void 0===n?void 0:n.length)||0;if(!(t<0||t>a)){for(;r=l.pop();)if(3===r.nodeType){const e=r,n=s+e.length;if(t>=s&&t<=n){o.setStart(e,Math.min(t-s,e.length)),o.collapse(!0);break}s=n}else if(\"BR\"===r.tagName){if(t===s){o.setStartBefore(r),o.collapse(!0);break}s++}else{const t=r;let e=t.childNodes.length;for(;e--;)l.push(t.childNodes[e])}i.removeAllRanges(),i.addRange(o)}}toggleBoldRange(t,e,n=\"\"){const i=this.isRangeEntirelyAttribute(t,e,\"bold\");this.formatAttribute(t,e,\"bold\",!i)}toggleItalicRange(t,e,n=\"\"){const i=this.isRangeEntirelyAttribute(t,e,\"italic\");this.formatAttribute(t,e,\"italic\",!i)}toggleUnderlineRange(t,e,n=\"\"){const i=this.isRangeEntirelyAttribute(t,e,\"underline\");this.formatAttribute(t,e,\"underline\",!i)}toggleStrikethroughRange(t,e,n=\"\"){const i=this.isRangeEntirelyAttribute(t,e,\"strikethrough\");this.formatAttribute(t,e,\"strikethrough\",!i)}toggleUndoRange(t,e,n=\"\"){const i=this.isRangeEntirelyAttribute(t,e,\"undo\");this.formatAttribute(t,e,\"undo\",!i)}toggleRedoRange(t,e){const n=this.isRangeEntirelyAttribute(t,e,\"redo\");this.formatAttribute(t,e,\"redo\",!n)}applyFontColor(t,e,n,i=\"\"){t<e&&(this.formatAttribute(t,e,\"fontColor\",n),console.log(\"applyFontColor-color\",n,t,e))}applyBgColor(t,e,n,i=\"\"){t<e&&this.formatAttribute(t,e,\"bgColor\",n)}isRangeEntirelyAttribute(t,e,n){let i=this.currentOffset,o=!0;if(\"\"!==this.selectedBlockId&&null!==this.selectedBlockId){const s=this.blocks.findIndex(t=>t.dataId===this.selectedBlockId);if(-1===s)return!1;for(let l of this.blocks[s].pieces){const s=i+l.text.length;if(s>t&&i<e&&!l.attributes[n]){o=!1;break}i=s}}return o}mergePieces(t){let e=[];for(let n of t){const t=e[e.length-1];t&&t.hasSameAttributes(n)?t.text+=n.text:e.push(n)}return e}findPieceAtOffset(t,e=\"\"){let n=0;if(\"\"!==e&&null!==e)for(let i of this.blocks){const o=i.pieces.reduce((t,e)=>t+e.text.length,0);if(i.dataId==e){let e=null;for(let o of i.pieces){const i=n,s=i+o.text.length;if(t>=i&&t<s)return t===i&&e?e:o;e=o,n=s}}else n+=o}return null}setFontFamily(t,e,n){this.formatAttribute(t,e,\"fontFamily\",n)}setFontSize(t,e,n){this.formatAttribute(t,e,\"fontSize\",n)}setAlignment(t,e){const n=this.blocks.find(t=>t.dataId===e);n&&(n.alignment=t,this.emit(\"documentChanged\",this))}getHtmlContent(t=!1){const e=document.getElementById(\"editor\");if(!e)return void console.error(\"Editor container not found.\");const n=e.innerHTML;return t&&navigator.clipboard.writeText(n).then(()=>{console.log(\"HTML copied to clipboard!\")}).catch(t=>console.error(\"Failed to copy HTML:\",t)),n}getCursorOffsetInParent(t){var e;console.log(\"textPosition -1:vicky\",t);const n=document.querySelector(t);if(!n)return null;const i=window.getSelection();if(!i||0===i.rangeCount)return null;const o=i.getRangeAt(0);if(!n.contains(o.startContainer))return null;let s=0,l=null;const r=document.createTreeWalker(n,NodeFilter.SHOW_TEXT,null);let a=null;for(;r.nextNode();){const t=r.currentNode;if(console.log(t,\"textPosition - currentNode: vicky\"),t===o.startContainer){s+=o.startOffset,l=t,a=t.parentElement;break}s+=(null===(e=t.textContent)||void 0===e?void 0:e.length)||0}return console.log({offset:s,childNode:l,innerHTML:a.innerHTML,innerText:a.innerText},\"textPosition - return values: vicky\"),{offset:s,childNode:l,innerHTML:a.innerHTML,innerText:a.innerText}}removeExclusiveEndBlock(t,e){if(e.length<=1)return;const n=t.endContainer,i=t.endOffset;let o=!1;if((n.nodeType===Node.TEXT_NODE||n.nodeType===Node.ELEMENT_NODE)&&(o=0===i),!o)return;const s=this.getDataIdFromNode(n);if(!s)return;if(s!==this.getDataIdFromNode(t.startContainer)&&e.includes(s)){const t=e.lastIndexOf(s);t>-1&&e.splice(t,1)}}}function o(t){const e=window.getSelection();if(!e||0===e.rangeCount)return null;const n=e.getRangeAt(0),i=n.cloneRange();i.selectNodeContents(t),i.setEnd(n.startContainer,n.startOffset);const o=i.toString().length;i.setEnd(n.endContainer,n.endOffset);return{start:o,end:i.toString().length}}function s(t,e){if(!e)return;let n=0;const i=document.createRange();i.setStart(t,0),i.collapse(!0);const o=[t];let s,l=!1,r=!1;for(;!r&&(s=o.pop());)if(3===s.nodeType){const t=s,o=n+t.length;!l&&e.start>=n&&e.start<=o&&(i.setStart(t,e.start-n),l=!0),l&&e.end>=n&&e.end<=o&&(i.setEnd(t,e.end-n),r=!0),n=o}else if(\"BR\"===s.tagName)l||e.start!==n||(i.setStartBefore(s),l=!0),l&&e.end===n&&(i.setEndBefore(s),r=!0),n++;else{const t=s;let e=t.childNodes.length;for(;e--;)o.push(t.childNodes[e])}const a=window.getSelection();a&&(a.removeAllRanges(),a.addRange(i))}function l(t){const e=o(t.container);return e?[e.start,e.end]:[0,0]}const r=/((https?:\\/\\/|www\\.)[\\w\\-._~:\\/?#[\\]@!$&'()*+,;=%]+|\\b[a-zA-Z0-9.-]+\\.[a-zA-Z]{2,}(?:\\/[\\w\\-._~:\\/?#[\\]@!$&'()*+,;=%]*)?)/g;function a(t,e){return e>0&&\"@\"===t[e-1]}function d(t){if(!t)return t;let e=t.trim();const n=e.match(/^https?:\\/\\/[\\w.-]+(?::\\d+)?\\/(https?:\\/\\/.*)$/);return n&&(e=n[1]),/^[a-zA-Z][a-zA-Z0-9+.-]*:/.test(e)?e:e.startsWith(\"//\")?\"https:\"+e:\"https://\"+e}class c{constructor(t,e){this.container=t,this.document=e}setImageHandler(t){this.imageHandler=t}render(){const t=o(this.container);this.container.innerHTML=\"\",this.document.blocks.forEach(t=>{var e;if(\"\"!==t.dataId){let n;if(\"image\"===t.type){if(n=document.createElement(\"div\"),n.setAttribute(\"data-id\",t.dataId),n.setAttribute(\"class\",t.class),n.setAttribute(\"type\",t.type),n.style.textAlign=t.alignment||\"left\",t.image)if(this.imageHandler&&\"function\"==typeof this.imageHandler.createImageFragment)n.appendChild(this.imageHandler.createImageFragment(t.image,t.dataId));else{const e=document.createElement(\"img\");e.src=t.image,n.appendChild(e)}}else if(\"ol\"===t.listType||\"li\"===t.listType?(n=document.createElement(\"ol\"),n.setAttribute(\"start\",(null===(e=null==t?void 0:t.listStart)||void 0===e?void 0:e.toString())||\"1\")):n=\"ul\"===t.listType?document.createElement(\"ul\"):document.createElement(\"div\"),n.setAttribute(\"data-id\",t.dataId),n.setAttribute(\"class\",t.class),n.setAttribute(\"type\",t.type),n.style.textAlign=t.alignment||\"left\",Array.isArray(t.pieces))if(\"ol\"===t.listType||\"ul\"===t.listType||\"li\"===t.listType){const e=document.createElement(\"li\");t.pieces.forEach(t=>{e.appendChild(this.renderPiece(t))}),n.appendChild(e)}else t.pieces.forEach(t=>{n.appendChild(this.renderPiece(t))});this.container.appendChild(n)}}),s(this.container,t)}renderPiece(t){const e=t.text.split(\"\\n\");return this.wrapAttributes(e,t.attributes)}wrapAttributes(t,e){const n=document.createDocumentFragment();return t.forEach((i,o)=>{let s=document.createTextNode(i);if(e.strikethrough){const t=document.createElement(\"s\");t.appendChild(s),s=t}if(e.underline){const t=document.createElement(\"u\");t.appendChild(s),s=t}if(e.italic){const t=document.createElement(\"em\");t.appendChild(s),s=t}if(e.bold){const t=document.createElement(\"strong\");t.appendChild(s),s=t}const l=document.getElementById(\"fontFamily\"),r=document.getElementById(\"fontSize\");let a=\"Arial\",c=\"16px\";l&&(a=l.value),r&&(c=r.value);const h=document.createElement(\"span\");if(h.style.fontFamily=e.fontFamily||a,h.style.fontSize=e.fontSize||c,e.fontColor&&\"string\"==typeof e.fontColor&&(h.style.color=e.fontColor),e.bgColor&&\"string\"==typeof e.bgColor&&(h.style.backgroundColor=e.bgColor),e.hyperlink&&\"string\"==typeof e.hyperlink){const t=document.createElement(\"a\");t.href=d(e.hyperlink),t.appendChild(s),s=t}h.appendChild(s),s=h,n.appendChild(s),o<t.length-1&&n.appendChild(document.createElement(\"br\"))}),n}}class h extends e{constructor(t){super(),this.container=t,this.setupButtons()}setupButtons(){this.container.querySelectorAll(\"button\").forEach(t=>{t.addEventListener(\"mousedown\",t=>{t.preventDefault()})}),this.container.addEventListener(\"click\",t=>{const e=t.target.closest(\"button\");if(e){const t=e.getAttribute(\"data-action\");t&&this.emit(\"toolbarAction\",t)}})}updateActiveStates(t){if(this.container.querySelectorAll(\"button\").forEach(e=>{const n=e.getAttribute(\"data-action\");let i=!1;\"bold\"===n&&t.bold&&(i=!0),\"italic\"===n&&t.italic&&(i=!0),\"underline\"===n&&t.underline&&(i=!0),\"strikethrough\"===n&&t.strikethrough&&(i=!0),\"hyperlink\"===n&&t.hyperlink&&(i=!0),\"undo\"===n&&t.undo&&(i=!0),\"redo\"===n&&t.redo&&(i=!0),e.classList.toggle(\"active\",i)}),this.container.querySelectorAll(\"select\").forEach(e=>{const n=e.getAttribute(\"data-action\");\"fontFamily\"===n&&t.fontFamily&&(e.value=t.fontFamily),\"fontSize\"===n&&t.fontSize&&(e.value=t.fontSize)}),t.fontColor){const e=document.getElementById(\"fontColorPicker\");e&&(e.value=t.fontColor,e.dispatchEvent(new Event(\"input\",{bubbles:!0})))}if(t.bgColor){const e=document.getElementById(\"bgColorPicker\");e&&(e.value=t.bgColor,e.dispatchEvent(new Event(\"input\",{bubbles:!0})))}}}const u={TOOLBAR_CLASSNAME:\"toolbar\",TOOLBAR_ID:\"toolbar\",EDITOR_CLASSNAME:\"editor\",EDITOR_ID:\"editor\",EDITOR_ELEMENT_NT_FOUND:\"Editor element not found or incorrect element type.\",FONT_FAMILY_SELECT_ID:\"fontFamily\",FONT_SIZE_SELECT_ID:\"fontSize\",FONT_COLOR_WRAPPER_ID:\"fontColorWrapper\",FONT_COLOR_ID:\"fontColor\",FONT_COLOR_PICKER_WRAPPER_ID:\"colorWrapper\",FONT_COLOR_PICKER_ID:\"fontColorPicker\",FONT_COLOR_RESET_ID:\"colorResetFont\",BG_COLOR_WRAPPER_ID:\"bgColorWrapper\",BG_COLOR_ID:\"bgColor\",BG_COLOR_PICKER_WRAPPER_ID:\"colorBgWrapper\",BG_COLOR_RESET_ID:\"colorResetBG\",BG_COLOR_PICKER_ID:\"bgColorPicker\",GET_HTML_BUTTON_ID:\"getHtmlButton\",LOAD_HTML_BUTTON_ID:\"loadHtmlButton\",HYPERLINK_CONTAINER_ID:\"hyperlink-container\",HYPERLINK_INPUT_ID:\"hyperlink-input\",HYPERLINK_PLACEHOLDER:\"Enter a URL...\",HYPERLINK_APPLY_BTN_ID:\"apply-hyperlink\",HYPERLINK_CANCEL_BTN_ID:\"cancel-hyperlink\",VIEW_HYPERLINK_CONTAINER_ID:\"hyperlink-container-view\",VIEW_HYPERLINK_LABEL_ID:\"hyperlink-view-span\",VIEW_HYPERLINK_ANCHOR_ID:\"hyperlink-view-link\",TEMPORARY_SELECTION_HIGHLIGHT_CLASS:\"temporary-selection-highlight\",PARAGRAPH_BLOCK_CLASS:\"paragraph-block\",IMAGE_CROSS_CLASS:\"image-cross\",TEST_HTML_CODE:'<div data-id=\"data-id-1734604240404\" class=\"paragraph-block\" type=\"undefined\" style=\"text-align: left;\"><span style=\"font-family: Arial; font-size: 12px;\"><span style=\"background-color: rgb(247, 247, 247);\"><span style=\"color: rgb(0, 0, 0);\"> ajsh diujaksdajsh diujaksdajsh </span></span></span></div><div data-id=\"data-id-1739430551701\" class=\"paragraph-block\" type=\"undefined\" style=\"text-align: left;\"><span style=\"font-family: Arial; font-size: 12px;\"><span style=\"background-color: rgb(247, 247, 247);\"><span style=\"color: rgb(0, 0, 0);\"> diujaksdasd </span></span></span><span style=\"font-family: Arial; font-size: 12px;\"><span style=\"background-color: rgb(247, 247, 247);\"><span style=\"color: rgb(163, 67, 67);\"><strong>98hasiudasdh 98</strong></span></span></span></div><div data-id=\"data-id-1739430553412\" class=\"paragraph-block\" type=\"undefined\" style=\"text-align: left;\"><span style=\"font-family: Arial; font-size: 12px;\"><span style=\"background-color: rgb(247, 247, 247);\"><span style=\"color: rgb(0, 0, 0);\"><strong> </strong></span></span></span><span style=\"font-family: Arial; font-size: 12px;\"><span style=\"background-color: rgb(247, 247, 247);\"><span style=\"color: rgb(0, 0, 0);\">This is a </span></span></span><span style=\"font-family: Arial; font-size: 12px;\"><span style=\"background-color: rgb(85, 153, 170);\"><span style=\"color: rgb(0, 0, 0);\"><em>t</em></span></span></span><span style=\"font-family: Arial; font-size: 12px;\"><span style=\"background-color: rgb(85, 153, 170);\"><span style=\"color: rgb(0, 0, 0);\"> this is a </span></span></span><span style=\"font-family: Arial; font-size: 12px;\"><span style=\"background-color: rgb(85, 153, 170);\"><span style=\"color: rgb(0, 0, 0);\"><em>test work</em></span></span></span></div><div data-id=\"data-id-1739430554776\" class=\"paragraph-block\" type=\"undefined\" style=\"text-align: left;\"><span style=\"font-family: Arial; font-size: 12px;\"><span style=\"background-color: rgb(247, 247, 247);\"><span style=\"color: rgb(0, 0, 0);\"> </span></span></span><span style=\"font-family: Arial; font-size: 12px;\"><span style=\"background-color: rgb(247, 247, 247);\"><span style=\"color: rgb(0, 0, 0);\">This is a </span></span></span><span style=\"font-family: Arial; font-size: 12px;\"><span style=\"background-color: rgb(247, 247, 247);\"><span style=\"color: rgb(0, 0, 0);\"><em>test work.</em></span></span></span><span style=\"font-family: Arial; font-size: 12px;\"><span style=\"background-color: rgb(247, 247, 247);\"><span style=\"color: rgb(0, 0, 0);\"> this is a </span></span></span><span style=\"font-family: Arial; font-size: 12px;\"><span style=\"background-color: rgb(247, 247, 247);\"><span style=\"color: rgb(0, 0, 0);\"><strong>test work</strong></span></span></span></div><div data-id=\"data-id-1739430558023\" class=\"paragraph-block\" type=\"undefined\" style=\"text-align: left;\"><span style=\"font-family: Arial; font-size: 12px;\"><span style=\"background-color: rgb(247, 247, 247);\"><span style=\"color: rgb(0, 0, 0);\"><strong><em> uj09asujdi</em></strong></span></span></span><span style=\"font-family: Arial; font-size: 12px;\"><span style=\"background-color: rgb(247, 247, 247);\"><span style=\"color: rgb(0, 0, 0);\"><a href=\"a;lsjd 98aiosd\" target=\"_blank\"><strong><em>odiodiooias </em></strong></a></span></span></span><span style=\"font-family: Arial; font-size: 12px;\"><span style=\"background-color: rgb(247, 247, 247);\"><span style=\"color: rgb(0, 0, 0);\"><a href=\"a;lsjd 98aiosd\" target=\"_blank\"><strong>diodiodio</strong></a></span></span></span><span style=\"font-family: Arial; font-size: 12px;\"><span style=\"background-color: rgb(247, 247, 247);\"><span style=\"color: rgb(0, 0, 0);\"><a href=\"a;lsjd 98aiosd\" target=\"_blank\">oias</a></span></span></span></div><div data-id=\"data-id-1739430556280\" class=\"paragraph-block\" type=\"undefined\" style=\"text-align: left;\"><span style=\"font-family: Arial; font-size: 12px;\"><span style=\"background-color: rgb(247, 247, 247);\"><span style=\"color: rgb(0, 0, 0);\"> da90 uasd y98asiodoiasda90 uasd y9</span></span></span><span style=\"font-family: Arial; font-size: 12px;\"><span style=\"background-color: rgb(247, 247, 247);\"><span style=\"color: rgb(0, 0, 0);\">8asiodoiasda90 uasd y98asioda</span></span></span></div><div data-id=\"data-id-1739430559464\" class=\"paragraph-block\" type=\"undefined\" style=\"text-align: left;\"><span style=\"font-family: Arial; font-size: 12px;\"><span style=\"background-color: rgb(247, 247, 247);\"><span style=\"color: rgb(0, 0, 0);\"> sdjasdjasdja9sudoija9sudoija9sudoija90sdoa90sdoa90sdo</span></span></span></div>',POPUP_TOOLBAR_CLASSNAME:\"popup-toolbar\",POPUP_TOOLBAR_ID:\"popup-toolbar\",TOAST_ID:\"ti-toast\",TOAST_SHOW_CLASS:\"ti-toast--show\",TOAST_DEFAULT_MESSAGE:\"HTML copied to clipboard\",TOAST_DEFAULT_DURATION_MS:2e3};class p{constructor(t,e,n){this.savedSelection=null,this.clickOutsideHandler=null,this.editorContainer=t,this.editorView=e,this.document=n}setUndoRedoManager(t){this.undoRedoManager=t}hanldeHyperlinkClick(t,e,n,i,o){const s=this.getCommonHyperlinkInRange(t,e,n,i,o);this.showHyperlinkInput(s)}getCommonHyperlinkInRange(t,e,n,i,o){let s=n,l=0;i&&(l=o.findIndex(t=>t.dataId===i));const r=o[l].pieces;let a=null;for(let n of r){const i=s+n.text.length;if(i>t&&s<e){const t=n.attributes.hyperlink||null;if(null===a)a=t;else if(a!==t)return null}s=i}return a}showHyperlinkInput(t){var e,n,i;const s=document.getElementById(u.HYPERLINK_CONTAINER_ID),l=document.getElementById(u.HYPERLINK_INPUT_ID),r=document.getElementById(u.HYPERLINK_APPLY_BTN_ID),a=document.getElementById(u.HYPERLINK_CANCEL_BTN_ID);if(s&&l&&r&&a){s.style.display=\"block\";const c=window.getSelection();if(c&&c.rangeCount>0){const t=c.getRangeAt(0);let o=null;if(t&&\"function\"==typeof t.getBoundingClientRect)o=t.getBoundingClientRect();else if(t&&\"function\"==typeof t.getClientRects){const n=null===(e=t.getClientRects)||void 0===e?void 0:e.call(t);o=n&&n.length?n[0]:null}(!o||Number.isNaN(o.top)&&Number.isNaN(o.left))&&(o=this.editorView.container.getBoundingClientRect());const l=(null===window||void 0===window?void 0:window.scrollY)||0,r=(null===window||void 0===window?void 0:window.scrollX)||0;s.style.top=`${(null!==(n=o.bottom)&&void 0!==n?n:o.top)+l+5}px`,s.style.left=`${(null!==(i=o.left)&&void 0!==i?i:0)+r}px`}l.value=t||\"\",this.savedSelection=o(this.editorView.container),this.highlightSelection(),l.focus(),r.onclick=null,a.onclick=null;const h=this.document.dataIds,u=()=>{const t=d(l.value.trim());t&&this.applyHyperlink(t,h),s.style.display=\"none\"};r.onclick=u,l.onkeydown=t=>{\"Enter\"===t.key&&(t.preventDefault(),u())},a.onclick=()=>{this.removeHyperlink(h),s.style.display=\"none\"}}}highlightSelection(){this.removeHighlightSelection();const t=window.getSelection();if(t&&t.rangeCount>0){const e=t.getRangeAt(0),n=document.createElement(\"span\");n.className=u.TEMPORARY_SELECTION_HIGHLIGHT_CLASS,n.appendChild(e.extractContents()),e.insertNode(n),t.removeAllRanges();const i=document.createRange();i.selectNodeContents(n),t.addRange(i)}}removeHighlightSelection(){var t;const e=null===(t=this.editorContainer)||void 0===t?void 0:t.querySelectorAll(`span.${u.TEMPORARY_SELECTION_HIGHLIGHT_CLASS}`);null==e||e.forEach(t=>{const e=t.parentNode;if(e){for(;t.firstChild;)e.insertBefore(t.firstChild,t);e.removeChild(t)}})}applyHyperlink(t,e){this.undoRedoManager.saveUndoSnapshot(),this.removeHighlightSelection(),s(this.editorView.container,this.savedSelection);const[n,i]=l(this.editorView);if(n<i){const o=d(t);e.length>1?this.document.blocks.forEach(t=>{if(e.includes(t.dataId)){this.document.selectedBlockId=t.dataId;let e=0;t.pieces.forEach(t=>{e+=t.text.length});let i=n-e;this.document.formatAttribute(i,e,\"hyperlink\",o)}}):this.document.formatAttribute(n,i,\"hyperlink\",o),this.editorView.render();const s=window.getSelection();s&&s.removeAllRanges(),this.editorView.container.focus()}this.savedSelection=null}removeHyperlink(t){this.undoRedoManager.saveUndoSnapshot(),this.removeHighlightSelection(),s(this.editorView.container,this.savedSelection);const[e,n]=l(this.editorView);e<n&&(t.length>1?this.document.blocks.forEach(n=>{if(t.includes(n.dataId)){this.document.selectedBlockId=n.dataId;let t=0;n.pieces.forEach(e=>{t+=e.text.length});let i=e-t;this.document.formatAttribute(i,t,\"hyperlink\",!1)}}):this.document.formatAttribute(e,n,\"hyperlink\",!1),this.editorView.render(),s(this.editorView.container,this.savedSelection),this.editorView.container.focus()),this.savedSelection=null}addClickOutsideListener(t){this.removeClickOutsideListener(),this.clickOutsideHandler=e=>{t&&!t.contains(e.target)&&this.hideHyperlinkViewButton()},setTimeout(()=>{document.addEventListener(\"click\",this.clickOutsideHandler)},100)}removeClickOutsideListener(){this.clickOutsideHandler&&(document.removeEventListener(\"click\",this.clickOutsideHandler),this.clickOutsideHandler=null)}showHyperlinkViewButton(t){var e,n,i;const o=document.getElementById(u.VIEW_HYPERLINK_CONTAINER_ID),s=document.getElementById(u.VIEW_HYPERLINK_ANCHOR_ID);if(o&&s){o.style.display=\"block\";const l=window.getSelection();if(l&&l.rangeCount>0){const t=l.getRangeAt(0);let s=null;if(t&&\"function\"==typeof t.getBoundingClientRect)s=t.getBoundingClientRect();else if(t&&\"function\"==typeof t.getClientRects){const n=null===(e=t.getClientRects)||void 0===e?void 0:e.call(t);s=n&&n.length?n[0]:null}s||(s=this.editorView.container.getBoundingClientRect());const r=(null===window||void 0===window?void 0:window.scrollY)||0,a=(null===window||void 0===window?void 0:window.scrollX)||0;s&&(o.style.top=`${(null!==(n=s.bottom)&&void 0!==n?n:s.top)+r+5}px`,o.style.left=`${(null!==(i=s.left)&&void 0!==i?i:0)+a}px`)}t&&(s.innerText=t,s.href=d(t))}this.addClickOutsideListener(o)}hideHyperlinkViewButton(){const t=document.getElementById(u.VIEW_HYPERLINK_CONTAINER_ID);t&&(t.style.display=\"none\"),this.removeClickOutsideListener()}}function g(t){return m((new DOMParser).parseFromString(t,\"text/html\").body,{bold:!1,italic:!1,underline:!1,hyperlink:!1})}function m(t,e){let i=Object.assign({},e);const o=[];if(t instanceof HTMLElement){if(\"A\"===t.tagName){const e=t.getAttribute(\"href\");e&&(i.hyperlink=e)}\"STRONG\"!==t.tagName&&\"B\"!==t.tagName||(i.bold=!0),\"EM\"!==t.tagName&&\"I\"!==t.tagName||(i.italic=!0),\"U\"===t.tagName&&(i.underline=!0),t.childNodes.forEach(t=>{o.push(...m(t,i))})}else if(t instanceof Text){const e=t.nodeValue||\"\";\"\"!==e.trim()&&o.push(new n(e,Object.assign({},i)))}return o}const f={bold:'<svg \\n                xmlns=\"http://www.w3.org/2000/svg\" \\n                width=\"18\" \\n                height=\"18\" \\n                viewBox=\"0 0 24 24\" style=\"fill: rgba(0, 0, 0, 1);transform: ;msFilter:;\">\\n                <title>Bold</title>\\n                <path d=\"M17.061 11.22A4.46 4.46 0 0 0 18 8.5C18 6.019 15.981 4 13.5 4H6v15h8c2.481 0 4.5-2.019 4.5-4.5a4.48 4.48 0 0 0-1.439-3.28zM13.5 7c.827 0 1.5.673 1.5 1.5s-.673 1.5-1.5 1.5H9V7h4.5zm.5 9H9v-3h5c.827 0 1.5.673 1.5 1.5S14.827 16 14 16z\"></path>\\n            </svg>',italic:'<svg \\n                xmlns=\"http://www.w3.org/2000/svg\" \\n                width=\"18\" \\n                height=\"18\" \\n                viewBox=\"0 0 24 24\" style=\"fill: rgba(0, 0, 0, 1);transform: ;msFilter:;\">\\n                <title>Italic</title>\\n                <path d=\"M19 7V4H9v3h2.868L9.012 17H5v3h10v-3h-2.868l2.856-10z\"></path>\\n            </svg>',underline:'<svg \\n                    xmlns=\"http://www.w3.org/2000/svg\" \\n                    width=\"18\" height=\"18\" \\n                    viewBox=\"0 0 24 24\" style=\"fill: rgba(0, 0, 0, 1);transform: ;msFilter:;\">\\n                    <title>Underline</title>\\n                    <path d=\"M5 18h14v2H5zM6 4v6c0 3.309 2.691 6 6 6s6-2.691 6-6V4h-2v6c0 2.206-1.794 4-4 4s-4-1.794-4-4V4H6z\"></path>\\n                </svg>',strikethrough:'<svg \\n        xmlns=\"http://www.w3.org/2000/svg\" \\n        width=\"18\" \\n        height=\"18\" \\n        viewBox=\"0 0 24 24\" \\n        style=\"fill: rgba(0, 0, 0, 1);\">\\n        <title>Strikethrough</title>\\n        <path d=\"M5 12.5h14v-1H5v1zm7-7c-2.21 0-4 1.79-4 4h2a2 2 0 1 1 4 0c0 1.1-.9 2-2 2h-1v2h1a4 4 0 0 0 0-8zm0 14c2.21 0 4-1.79 4-4h-2a2 2 0 1 1-4 0c0-1.1.9-2 2-2h1v-2h-1a4 4 0 0 0 0 8z\"/>\\n    </svg>',subscript:'<svg \\n                xmlns=\"http://www.w3.org/2000/svg\" \\n                    width=\"18\" height=\"18\" \\n                    viewBox=\"0 0 24 24\">\\n                    <title>Subscript</title>\\n                    <path fill=\"currentColor\" d=\"M19 20v-3h3v-1h-3v-1h4v3h-3v1h3v1zM5.875 18l4.625-7.275L6.2 4h2.65l3.1 5h.1l3.075-5H17.8l-4.325 6.725L18.125 18H15.45l-3.4-5.425h-.1L8.55 18z\"/>\\n                </svg>',superscript:'<svg \\n                    xmlns=\"http://www.w3.org/2000/svg\" \\n                    width=\"18\" \\n                    height=\"18\" \\n                    viewBox=\"0 0 24 24\">\\n                    <title>Superscript</title>\\n                    <path fill=\"currentColor\" d=\"M19 9V6h3V5h-3V4h4v3h-3v1h3v1zM5.875 20l4.625-7.275L6.2 6h2.65l3.1 5h.1l3.075-5H17.8l-4.325 6.725L18.125 20H15.45l-3.4-5.425h-.1L8.55 20z\"/>\\n                </svg>',left_align:'<svg \\n                    xmlns=\"http://www.w3.org/2000/svg\" \\n                    width=\"18\" \\n                    height=\"18\" \\n                    viewBox=\"0 0 24 24\">\\n                    <title>Left Align</title>\\n                    <path fill=\"none\" stroke=\"currentColor\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"1.5\" d=\"M4.5 12h8m-8 6.25h15m-15-12.5h15\"/>\\n                </svg>',center_align:'<svg \\n                    xmlns=\"http://www.w3.org/2000/svg\" \\n                    width=\"18\" \\n                    height=\"18\" \\n                    viewBox=\"0 0 24 24\">\\n                    <title>Center Align</title><path fill=\"none\" stroke=\"currentColor\" stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M4 6h16M8 12h8M6 18h12\"/>\\n                </svg>',right_align:'<svg \\n                    xmlns=\"http://www.w3.org/2000/svg\" \\n                    width=\"18\" \\n                    height=\"18\" \\n                    viewBox=\"0 0 24 24\">\\n                    <title>Right Align</title><path fill=\"none\" stroke=\"currentColor\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"1.5\" d=\"M19.5 12h-8m8-6.25h-15m15 12.5h-15\"/></svg>',justify:'<svg \\n                xmlns=\"http://www.w3.org/2000/svg\" \\n                width=\"18\" \\n                height=\"18\" \\n                viewBox=\"0 0 20 20\">\\n                <title>Justify</title><path fill=\"currentColor\" d=\"M2 4.25a.75.75 0 0 1 .75-.75h14.5a.75.75 0 0 1 0 1.5H2.75A.75.75 0 0 1 2 4.25m0 5a.75.75 0 0 1 .75-.75h14.5a.75.75 0 0 1 0 1.5H2.75A.75.75 0 0 1 2 9.25m.75 4.25a.75.75 0 0 0 0 1.5h14.5a.75.75 0 0 0 0-1.5z\"/>\\n            </svg>',bullet_list:'<svg \\n                    xmlns=\"http://www.w3.org/2000/svg\" \\n                    width=\"18\" \\n                    height=\"18\" \\n                    viewBox=\"0 0 16 16\">\\n                    <title>Bullet List</title><path fill=\"currentColor\" d=\"M2 4.5a1 1 0 1 0 0-2a1 1 0 0 0 0 2M2 9a1 1 0 1 0 0-2a1 1 0 0 0 0 2m1 3.5a1 1 0 1 1-2 0a1 1 0 0 1 2 0M5.5 3a.5.5 0 0 0 0 1h9a.5.5 0 0 0 0-1zM5 8a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9A.5.5 0 0 1 5 8m.5 4a.5.5 0 0 0 0 1h9a.5.5 0 0 0 0-1z\"/></svg>',numbered_list:'<svg \\n                    xmlns=\"http://www.w3.org/2000/svg\" \\n                    width=\"18\" \\n                    height=\"18\" \\n                    viewBox=\"0 0 512 512\">\\n                    <title>Numbererd List</title>\\n                    <path fill=\"currentColor\" d=\"M184 80h288v32H184zm0 160h288v32H184zm0 160h288v32H184zm-64-240V40H56v32h32v88zM56 262.111V312h80v-32H91.777L136 257.889V192H56v32h48v14.111zM56 440v32h80V344H56v32h48v16H80v32h24v16z\"/>\\n                </svg>',insert_table:'<svg \\n                    xmlns=\"http://www.w3.org/2000/svg\" \\n                    width=\"18\" \\n                    height=\"18\" \\n                    viewBox=\"0 0 20 20\">\\n                    <title>Insert Table</title>\\n                    <path fill=\"currentColor\" d=\"M1.364 5.138v12.02h17.272V5.138zM.909 1.5h18.182c.502 0 .909.4.909.895v15.21a.9.9 0 0 1-.91.895H.91c-.503 0-.91-.4-.91-.895V2.395C0 1.9.407 1.5.91 1.5m5.227 1.759c0-.37.306-.671.682-.671s.682.3.682.671v13.899c0 .37-.305.67-.682.67a.676.676 0 0 1-.682-.67zm6.96-.64c.377 0 .682.3.682.67v4.995h4.91c.377 0 .683.301.683.672c0 .37-.306.671-.682.671l-4.911-.001v3.062h5.002c.377 0 .682.3.682.671c0 .37-.305.671-.682.671h-5.002v3.158a.676.676 0 0 1-.682.671a.676.676 0 0 1-.681-.67l-.001-3.159H1.001a.676.676 0 0 1-.682-.67c0-.371.305-.672.682-.672h11.413V9.626L.909 9.627a.676.676 0 0 1-.682-.671c0-.37.306-.671.682-.671l11.505-.001V3.289c0-.37.306-.67.682-.67\"/>\\n                </svg>',insert_layout:'<svg \\n                    xmlns=\"http://www.w3.org/2000/svg\" \\n                    width=\"18\" \\n                    height=\"18\" \\n                    viewBox=\"0 0 256 256\">\\n                    <title>Insert Layout</title>\\n                    <path fill=\"currentColor\" d=\"M216 42H40a14 14 0 0 0-14 14v144a14 14 0 0 0 14 14h176a14 14 0 0 0 14-14V56a14 14 0 0 0-14-14M40 54h176a2 2 0 0 1 2 2v42H38V56a2 2 0 0 1 2-2m-2 146v-90h60v92H40a2 2 0 0 1-2-2m178 2H110v-92h108v90a2 2 0 0 1-2 2\"/>\\n                </svg>',heading:'<svg \\n                xmlns=\"http://www.w3.org/2000/svg\" \\n                width=\"18\" \\n                height=\"18\" \\n                viewBox=\"0 0 24 24\">\\n                <title>Heading</title>\\n                <path fill=\"currentColor\" d=\"M17 11V4h2v17h-2v-8H7v8H5V4h2v7z\"/>\\n            </svg>',hyperlink:'<svg \\n                xmlns=\"http://www.w3.org/2000/svg\" \\n                width=\"18\" \\n                height=\"18\" \\n                viewBox=\"0 0 24 24\">\\n                <title>Hyperlink</title>\\n                <path fill=\"currentColor\" d=\"M14.78 3.653a3.936 3.936 0 1 1 5.567 5.567l-3.627 3.627a3.936 3.936 0 0 1-5.88-.353a.75.75 0 0 0-1.18.928a5.436 5.436 0 0 0 8.12.486l3.628-3.628a5.436 5.436 0 1 0-7.688-7.688l-3 3a.75.75 0 0 0 1.06 1.061z\"/>\\n                <path fill=\"currentColor\" d=\"M7.28 11.153a3.936 3.936 0 0 1 5.88.353a.75.75 0 0 0 1.18-.928a5.436 5.436 0 0 0-8.12-.486L2.592 13.72a5.436 5.436 0 1 0 7.688 7.688l3-3a.75.75 0 1 0-1.06-1.06l-3 3a3.936 3.936 0 0 1-5.567-5.568z\"/>\\n            </svg>',image:'<svg \\n            xmlns=\"http://www.w3.org/2000/svg\" \\n            width=\"18\" \\n            height=\"18\" \\n            viewBox=\"0 0 16 16\">\\n            <title>Insert Image</title>\\n            <path fill=\"currentColor\" d=\"M6 5a2 2 0 1 1-4 0a2 2 0 0 1 4 0m9-4a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H1a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1zm-3.448 6.134l-3.76 2.769a.5.5 0 0 1-.436.077l-.087-.034l-1.713-.87L1 11.8V14h14V9.751zM15 2H1v8.635l4.28-2.558a.5.5 0 0 1 .389-.054l.094.037l1.684.855l3.813-2.807a.5.5 0 0 1 .52-.045l.079.05L15 8.495z\"/>\\n        </svg>'},b={dropdowns:[\"fontFamily\",\"fontSize\"],colors:[\"fontColor\",\"bgColor\"],formatting:[\"bold\",\"italic\",\"underline\",\"strikethrough\"],alignment:[\"alignLeft\",\"alignCenter\",\"alignRight\"],lists:[\"unorderedList\",\"orderedList\"],media:[\"hyperlink\",\"image\"],utility:[\"getHtmlContent\",\"loadHtmlContent\"]};function y(){const t=document.createElement(\"div\");return t.className=\"toolbar-separator\",t}function k(t,e){const n=u.EDITOR_ID,i=u.TOOLBAR_ID,o=u.POPUP_TOOLBAR_ID,s=[\"Arial\",\"Times New Roman\",\"Courier New\",\"Verdana\"],l=[\"12px\",\"14px\",\"16px\",\"18px\",\"20px\"],r=document.getElementById(t);if(!r)throw new Error(u.EDITOR_ELEMENT_NT_FOUND);r.classList.add(\"editor-container\");const a=document.createElement(\"div\");a.className=u.TOOLBAR_CLASSNAME,a.id=i,r.appendChild(a),(null==e?void 0:e.showToolbar)||(a.style.display=\"none\");const d=document.createElement(\"div\");d.id=n,d.className=u.EDITOR_CLASSNAME,d.contentEditable=\"true\",r.appendChild(d);const c={bold:\"<strong>B</strong>\",italic:\"<em>I</em>\",underline:\"<u>U</u>\",hyperlink:\"&#128279;\",alignLeft:\"&#8676;\",alignCenter:\"&#8596;\",alignRight:\"&#8677;\",unorderedList:\"&#8226;\",orderedList:\"1.\",fontFamily:\"fontFamily\",fontSize:\"fontSize\",fontColor:\"A\",subscript:\"X<sub>2</sub>\",superscript:\"X<sup>2</sup>\",justify:\"&#8644;\",insert_table:\"&#8866;\",insert_layout:\"&#10064;\",heading:\"H\",image:\"&#128247;\",colors:\"&#127912;\"},h={bold:\"Bold (Ctrl+B)\",italic:\"Italic (Ctrl+I)\",underline:\"Underline (Ctrl+U)\",strikethrough:\"Strikethrough\",hyperlink:\"Insert Link (Ctrl+H)\",alignLeft:\"Align Left (Ctrl+L)\",alignCenter:\"Align Center (Ctrl+E)\",alignRight:\"Align Right (Ctrl+R)\",unorderedList:\"Bullet List\",orderedList:\"Numbered List\",fontColor:\"Text Color\",bgColor:\"Highlight Color\",image:\"Insert Image\",getHtmlContent:\"Get HTML\",loadHtmlContent:\"Load HTML\"},p=[{feature:\"alignLeft\",id:\"alignLeft\",icon:f.left_align},{feature:\"alignCenter\",id:\"alignCenter\",icon:f.center_align},{feature:\"alignRight\",id:\"alignRight\",icon:f.right_align},{feature:\"unorderedList\",id:\"unorderedList\",icon:f.bullet_list},{feature:\"orderedList\",id:\"orderedList\",icon:f.numbered_list},{feature:\"hyperlink\",id:\"hyperlink\",icon:f.hyperlink},{feature:\"strikethrough\",id:\"strikethrough\",icon:f.strikethrough}],g=(t,e)=>{const n=document.createElement(\"select\");return n.dataset.action=t,n.id=t,e.forEach(t=>{const e=document.createElement(\"option\");e.value=t,e.textContent=t,n.appendChild(e)}),n},m=document.createElement(\"div\");m.id=o,m.className=u.POPUP_TOOLBAR_CLASSNAME,m.style.display=\"none\",r.appendChild(m),e.popupFeatures&&e.popupFeatures.forEach((t,e)=>{e>0&&\"hyperlink\"===t&&m.appendChild(y());const n=p.find(e=>e.feature===t)||{icon:c[t]||t},i=document.createElement(\"button\");i.dataset.action=t,i.innerHTML=n.icon,i.dataset.tooltip=h[t]||t.split(\"_\").map(t=>t.charAt(0).toUpperCase()+t.slice(1)).join(\" \"),m.appendChild(i)});let k=null;e.features.forEach((t,e)=>{const n=function(t){for(const[e,n]of Object.entries(b))if(n.includes(t))return e;return null}(t);if(e>0&&n&&k&&n!==k&&a.appendChild(y()),k=n,\"fontFamily\"===t){const t=g(u.FONT_FAMILY_SELECT_ID,s);a.appendChild(t)}else if(\"fontSize\"===t){const t=g(u.FONT_SIZE_SELECT_ID,l);a.appendChild(t)}else if(\"fontColor\"===t){if(document.getElementById(u.FONT_COLOR_WRAPPER_ID))return;const t=document.createElement(\"span\");t.id=u.FONT_COLOR_WRAPPER_ID,t.style.display=\"inline-flex\",t.style.alignItems=\"center\",t.style.position=\"relative\",t.style.gap=\"4px\";const e=document.createElement(\"button\");e.id=u.FONT_COLOR_ID,e.type=\"button\",e.dataset.tooltip=h.fontColor,e.innerHTML='<span style=\"font-weight: bold; font-size: 14px; position: relative; display: inline-block; padding: 2px 4px;\">A<span style=\"position: absolute; bottom: 0; left: 2px; right: 2px; height: 3px; background-color: #000000; border-radius: 1px;\" id=\"fontColorIndicator\"></span></span>',t.appendChild(e);const n=document.createElement(\"div\");n.id=u.FONT_COLOR_PICKER_WRAPPER_ID,n.style.display=\"none\",n.style.position=\"absolute\",n.style.top=\"100%\",n.style.left=\"0\",n.style.marginTop=\"4px\",n.style.zIndex=\"1000\",n.style.backgroundColor=\"#ffffff\",n.style.border=\"1px solid #d1d1d1\",n.style.borderRadius=\"4px\",n.style.padding=\"8px\",n.style.boxShadow=\"0 2px 8px rgba(0,0,0,0.15)\",n.style.width=\"135px\";const i=document.createElement(\"input\");i.type=\"color\",i.id=u.FONT_COLOR_PICKER_ID,i.setAttribute(\"data-action\",\"fontColor\"),i.style.width=\"100%\",i.style.height=\"32px\",i.style.border=\"1px solid #d1d1d1\",i.style.borderRadius=\"4px\",i.style.cursor=\"pointer\",i.style.marginBottom=\"8px\",i.value=\"#000000\",n.appendChild(i);const o=document.createElement(\"button\");o.id=u.FONT_COLOR_RESET_ID,o.type=\"button\",o.textContent=\"Reset\",o.style.display=\"block\",o.style.width=\"100%\",o.style.padding=\"6px 12px\",o.style.fontSize=\"12px\",o.style.border=\"1px solid #000000\",o.style.borderRadius=\"4px\",o.style.backgroundColor=\"#f8f8f8\",o.style.cursor=\"pointer\",o.style.transition=\"background-color 0.2s\",o.onmouseenter=()=>o.style.backgroundColor=\"#e8e8e8\",o.onmouseleave=()=>o.style.backgroundColor=\"#f8f8f8\",n.appendChild(o),t.appendChild(n),a.appendChild(t)}else if(\"bgColor\"===t){if(document.getElementById(u.BG_COLOR_WRAPPER_ID))return;const t=document.createElement(\"span\");t.id=u.BG_COLOR_WRAPPER_ID,t.style.display=\"inline-flex\",t.style.alignItems=\"center\",t.style.position=\"relative\",t.style.gap=\"4px\";const e=document.createElement(\"button\");e.id=u.BG_COLOR_ID,e.type=\"button\",e.dataset.tooltip=h.bgColor,e.innerHTML='<span style=\"font-weight: bold; font-size: 14px; position: relative; display: inline-block; padding: 2px 4px;\">B<span style=\"position: absolute; bottom: 0; left: 2px; right: 2px; height: 3px; background-color: #ffffff;\" id=\"bgColorIndicator\"></span></span>',t.appendChild(e);const n=document.createElement(\"div\");n.id=u.BG_COLOR_PICKER_WRAPPER_ID,n.style.display=\"none\",n.style.position=\"absolute\",n.style.top=\"100%\",n.style.left=\"0\",n.style.marginTop=\"4px\",n.style.zIndex=\"1000\",n.style.backgroundColor=\"#ffffff\",n.style.border=\"1px solid #000000\",n.style.borderRadius=\"4px\",n.style.padding=\"8px\",n.style.boxShadow=\"0 2px 8px rgba(0,0,0,0.15)\",n.style.width=\"135px\";const i=document.createElement(\"input\");i.setAttribute(\"data-action\",\"bgColor\"),i.type=\"color\",i.id=u.BG_COLOR_PICKER_ID,i.style.width=\"100%\",i.style.height=\"32px\",i.style.border=\"1px solid #000000ff\",i.style.borderRadius=\"4px\",i.style.cursor=\"pointer\",i.style.marginBottom=\"8px\",i.value=\"#ffffff\",n.appendChild(i);const o=document.createElement(\"button\");o.id=u.BG_COLOR_RESET_ID,o.type=\"button\",o.textContent=\"Reset\",o.style.display=\"block\",o.style.width=\"100%\",o.style.padding=\"6px 12px\",o.style.fontSize=\"12px\",o.style.border=\"1px solid #d1d1d1\",o.style.borderRadius=\"4px\",o.style.backgroundColor=\"#f8f8f8\",o.style.cursor=\"pointer\",o.style.transition=\"background-color 0.2s\",o.onmouseenter=()=>o.style.backgroundColor=\"#e8e8e8\",o.onmouseleave=()=>o.style.backgroundColor=\"#f8f8f8\",n.appendChild(o),t.appendChild(n),a.appendChild(t)}else if(\"getHtmlContent\"===t){const t=document.createElement(\"button\");t.id=u.GET_HTML_BUTTON_ID,t.type=\"button\",t.textContent=\"Get HTML\",t.dataset.tooltip=h.getHtmlContent,a.appendChild(t)}else if(\"loadHtmlContent\"===t){const t=document.createElement(\"button\");t.id=u.LOAD_HTML_BUTTON_ID,t.type=\"button\",t.textContent=\"Load HTML\",t.dataset.tooltip=h.loadHtmlContent,a.appendChild(t)}else if(p.map(t=>t.feature).includes(t)){const e=p.find(e=>e.feature===t),n=document.createElement(\"button\");n.id=t,n.dataset.action=t,n.innerHTML=(null==e?void 0:e.icon)||\"\",n.dataset.tooltip=h[t]||t,a.appendChild(n)}else{const e=document.createElement(\"button\");e.dataset.action=t,e.innerHTML=c[t]||t,e.id=t,e.dataset.tooltip=h[t]||t.split(\"_\").map(t=>t.charAt(0).toUpperCase()+t.slice(1)).join(\" \"),a.appendChild(e)}});const I=document.createElement(\"div\");I.id=u.HYPERLINK_CONTAINER_ID,I.style.display=\"none\";const C=document.createElement(\"input\");C.type=\"text\",C.id=u.HYPERLINK_INPUT_ID,C.placeholder=u.HYPERLINK_PLACEHOLDER;const v=document.createElement(\"button\");v.id=u.HYPERLINK_APPLY_BTN_ID,v.textContent=\"Link\";const E=document.createElement(\"button\");E.id=u.HYPERLINK_CANCEL_BTN_ID,E.textContent=\"Unlink\",I.appendChild(C),I.appendChild(v),I.appendChild(E),a.appendChild(I);const w=document.createElement(\"div\");w.id=u.VIEW_HYPERLINK_CONTAINER_ID,w.style.display=\"none\";const x=document.createElement(\"span\");x.id=u.VIEW_HYPERLINK_LABEL_ID,x.innerHTML=\"Visit URL : \";const A=document.createElement(\"a\");return A.id=u.VIEW_HYPERLINK_ANCHOR_ID,A.href=\"\",A.target=\"_blank\",w.appendChild(x),w.appendChild(A),a.appendChild(w),{mainEditorId:n,toolbarId:i,popupToolbarId:o}}class I{constructor(t){this.htmlString=t,this.doc=(new DOMParser).parseFromString(t,\"text/html\")}parse(){const t=this.doc.body.children;let e=[];return Array.from(t).forEach((t,n)=>{const i=this.parseElement(t);console.log(t,\"element parse\",n,i),e.push(i)}),console.log(e,\"element--jsondata\"),e}parseElement(t){const e=t.getAttribute(\"data-id\")||\"\",n=t.className||\"paragraph-block\",i=t.style.textAlign||\"left\";let o=null,s=null;\"UL\"===t.tagName?o=\"ul\":\"OL\"===t.tagName&&(o=\"ol\",s=parseInt(t.getAttribute(\"start\")||\"1\",10));let l=[];return o?this.parseListItems(t,l):this.parseParagraphText(t,l),Object.assign(Object.assign(Object.assign({dataId:e,class:n,alignment:i,pieces:l},o?{listType:o}:{}),null!==s?{listStart:s}:{}),{})}parseListItems(t,e){t.querySelectorAll(\"li\").forEach(t=>{const i=this.extractTextAttributes(t);i&&e.push(new n(i.text,i.attributes))})}parseParagraphText(t,e){const i=t.querySelectorAll(\"span\"),o=new Map;i.forEach(t=>{const e=this.extractTextAttributes(t);if(console.log(e,\"piece parseParagraphText span\",t.textContent,t.style.color),e){const t=o.get(e.text);t?(t.attributes.bold=t.attributes.bold||e.attributes.bold,t.attributes.italic=t.attributes.italic||e.attributes.italic,t.attributes.underline=t.attributes.underline||e.attributes.underline,t.attributes.fontFamily=e.attributes.fontFamily||t.attributes.fontFamily,t.attributes.fontSize=e.attributes.fontSize||t.attributes.fontSize,t.attributes.fontColor=e.attributes.fontColor||t.attributes.fontColor,t.attributes.bgColor=e.attributes.bgColor||t.attributes.bgColor):o.set(e.text,Object.assign({},e))}}),o.forEach(t=>{e.push(new n(t.text,t.attributes))}),console.log(e,\"pieces--parseParagraphText (merged)\")}extractTextAttributes(t){var e;const n=t.textContent||\"\";return n?(console.log(\"extractTextAttributes node\",t,t.style.color),{text:n,attributes:{bold:null!==t.querySelector(\"b, strong\"),italic:null!==t.querySelector(\"i, em\"),underline:null!==t.querySelector(\"u\"),undo:!1,redo:!1,fontFamily:t.style.fontFamily||\"Arial\",fontSize:t.style.fontSize||\"12px\",hyperlink:!!t.querySelector(\"a\")&&(null===(e=t.querySelector(\"a\"))||void 0===e?void 0:e.getAttribute(\"href\")),fontColor:t.style.color,bgColor:t.style.backgroundColor}}):null}rgbToHex(t,e=!1){const n=t.match(/\\d+/g);if(!n||n.length<3)return null;const i=n.map(t=>{const e=parseInt(t);return e<0||e>255?\"00\":e.toString(16).padStart(2,\"0\")}).join(\"\");return e||\"000000\"!==i?`#${i}`:null}}class C{constructor(t,e){this.editor=t,this.document=e,this.isImageHighlighted=!1,this.highLightedImageDataId=\"\",this.currentCursorLocation=0,this.isCrossIconVisible=!1}setEditorView(t){this.editorView=t}insertImage(){const t=document.createElement(\"input\");t.type=\"file\",t.accept=\"image/*\",t.click(),t.onchange=()=>{const e=t.files?t.files[0]:null;if(e){const t=new FileReader;t.onload=t=>{var e;const n=null===(e=t.target)||void 0===e?void 0:e.result;this.insertImageAtCursor(n)},t.readAsDataURL(e)}}}insertImageAtCursor(t){if(!t)return;const[e,n]=l(this.editorView);n>e&&this.document.deleteRange(e,n,this.document.selectedBlockId),this.insertImageAtPosition(t,e,this.document.selectedBlockId)}setCursorPostion(t,e){if(\"number\"!=typeof t||!e)return;const n=document.querySelector(`[data-id=\"${e}\"]`);n&&(\"function\"==typeof n.focus&&n.focus(),setTimeout(()=>{const e=document.createRange(),i=window.getSelection();if(n.firstChild)e.setStart(n.firstChild,t);else{const t=document.createTextNode(\"\");n.appendChild(t),e.setStart(t,0)}e.collapse(!0),null==i||i.removeAllRanges(),null==i||i.addRange(e)},0))}insertImageAtPosition(t,e,i){if(!t||\"number\"!=typeof e||!this.editorView)return;console.log(t,e,i,\"vicky insertImageAtPosition\",this.document.blocks);const o=`data-id-${Date.now()}-${1e3*Math.random()}`,s=`data-id-${Date.now()}-${1e3*Math.random()}`,l=`data-id-${Date.now()}-${1e3*Math.random()}`,r={dataId:o,class:u.PARAGRAPH_BLOCK_CLASS,pieces:[new n(\" \")],type:\"image\",image:t},a={dataId:s,class:u.PARAGRAPH_BLOCK_CLASS,pieces:[new n(\" \")],type:\"text\"};let d=this.document.selectedBlockId;const c=this.document.blocks.findIndex(t=>t.dataId===this.document.selectedBlockId);let h=[];const{remainingText:p,piece:g}=function(t,e){const n=window.getSelection();if(!n||0===n.rangeCount)return{remainingText:\"\",piece:null};const i=n.getRangeAt(0).startContainer;let o=\"\";const s=e.blocks.filter(e=>{if(e.dataId===t)return e});if(!s[0]||!s[0].pieces)return{remainingText:\"\",piece:null};const l=document.querySelector(`[data-id=\"${t}\"]`),r=e.getCursorOffsetInParent(`[data-id=\"${t}\"]`);let a=[],d=0;if(s[0].pieces.forEach((t,e)=>{o+=t.text,(null==r?void 0:r.innerText)===t.text&&(d=e,a.push(t))}),s[0].pieces.length>1&&s[0].pieces.forEach((t,e)=>{d<e&&a.push(t)}),!l)return console.error(`Element with data-id \"${t}\" not found.`),{remainingText:\"\",piece:null};if(!l.contains(i))return console.error(`Cursor is not inside the element with data-id \"${t}\".`),{remainingText:\"\",piece:null};const c=o,h=null==r?void 0:r.offset,u=c.slice(h),p=c.slice(0,h);return l.textContent=p,{remainingText:u,piece:a}}(d||\"\",this.document);console.log(d||\"\",this.document,\"extractTextFromDataId-vicky\",p,g);const m=\" \"+p;let f=this.document.blocks;if(m.length>0){const t=p.split(\" \");let e=[];\"\"!==t[0]||void 0!==t[1]?1===g.length?e=[new n(m,g[0].attributes)]:(e.push(new n(\" \"+t[0]+\" \",g[0].attributes)),g.length>=2&&g.forEach((t,n)=>{0!==n&&e.push(t)})):e=[new n(\" \")],console.log(this.document.selectedBlockId,\"uniqueId3 extractTextFromDataId-vicky\",l),f=function(t,e,n){const i=t.findIndex(t=>t.dataId===e);return-1===i?(console.error(`Block with dataId \"${e}\" not found.`),t):[...t.slice(0,i+1),n,...t.slice(i+1)]}(this.document.blocks,this.document.selectedBlockId||\"\",{dataId:l,class:u.PARAGRAPH_BLOCK_CLASS,pieces:e,type:\"text\"})}this.document.blocks=f,this.document.deleteRange(this.currentCursorLocation,this.currentCursorLocation+p.length,this.document.selectedBlockId,this.document.currentOffset),this.document.blocks.length>c+1?this.document.blocks.forEach((t,e)=>{h.push(t),e===c?h.push(r):d===this.document.selectedBlockId&&(d=t.dataId)}):(h=[...this.document.blocks,r,a],d=a.dataId),this.document.blocks=h,this.editorView.render(),this.document.selectedBlockId=d;const b=document.querySelector(`[data-id=\"${d}\"]`);b.focus(),setTimeout(()=>{const t=document.createRange(),e=window.getSelection();if(b.firstChild)t.setStart(b.firstChild,1);else{const e=document.createTextNode(\"\");b.appendChild(e),t.setStart(e,0)}t.collapse(!0),null==e||e.removeAllRanges(),null==e||e.addRange(t)},0)}createImageFragment(t,e){if(!t||!e)return document.createDocumentFragment();const n=document.createDocumentFragment(),i=document.createElement(\"img\");i.src=t,i.style.maxWidth=\"30%\",i.setAttribute(\"contenteditable\",\"false\"),n.appendChild(i);const o=document.createElement(\"span\");return o.setAttribute(\"contenteditable\",\"false\"),o.appendChild(n),i.addEventListener(\"click\",()=>this.addStyleToImage(e)),o}addStyleToImage(t){if(t&&!this.isCrossIconVisible){const e=document.querySelector(`[data-id=\"${t}\"]`),n=null==e?void 0:e.querySelector(\"span\");n&&(n.style.position=\"relative\");const i=null==e?void 0:e.querySelector(\"img\");i&&(i.style.border=\"2px solid blue\");const o=document.createElement(\"div\");o.className=u.IMAGE_CROSS_CLASS,o.innerHTML=\"x\",Object.assign(o.style,{position:\"absolute\",top:\"0\",left:\"50%\",transform:\"translate(-50%, 0)\",background:\"#fff\",borderRadius:\"50%\",width:\"30px\",height:\"30px\",display:\"flex\",alignItems:\"center\",justifyContent:\"center\",cursor:\"pointer\",border:\"3px solid blue\",zIndex:\"999\"}),o.addEventListener(\"mouseover\",()=>o.style.border=\"3px solid black\"),o.addEventListener(\"mouseout\",()=>o.style.border=\"3px solid blue\"),o.addEventListener(\"click\",t=>{t.stopPropagation(),this.deleteImage()}),null==n||n.appendChild(o),this.isImageHighlighted=!0,this.highLightedImageDataId=t,this.isCrossIconVisible=!0}}clearImageStyling(){if(!this.highLightedImageDataId)return;const t=document.querySelector(`[data-id=\"${this.highLightedImageDataId}\"]`);if(t){const e=t.querySelector(\"span\");null==e||e.removeAttribute(\"style\");const n=null==e?void 0:e.querySelector(\"img\");n&&n.removeAttribute(\"style\");const i=null==e?void 0:e.querySelector(`.${u.IMAGE_CROSS_CLASS}`);null==i||i.remove(),this.highLightedImageDataId=\"\"}this.isCrossIconVisible=!1}deleteImage(){this.highLightedImageDataId&&(this.document.blocks=this.document.blocks.filter(t=>t.dataId!==this.highLightedImageDataId),this.highLightedImageDataId=\"\",this.isImageHighlighted=!1,this.clearImageStyling(),this.document.emit(\"documentChanged\",this))}}class v{constructor(t,e){this.snapshotUndoStack=[],this.snapshotRedoStack=[],this.maxSnapshots=5e3,this.document=t,this.editorView=e}createSnapshot(){const[t,e]=l(this.editorView);return{blocks:JSON.parse(JSON.stringify(this.document.blocks)),dataIds:[...this.document.dataIds],selectedBlockId:this.document.selectedBlockId,currentOffset:this.document.currentOffset,selection:this.getCurrentSelection(),cursorPosition:t}}getCurrentSelection(){const t=o(this.document.editorView.container);return t?{start:t.start,end:t.end}:{start:0,end:0}}saveUndoSnapshot(){const t=this.createSnapshot();console.log(\"Saving snapshot:\",t.cursorPosition,\"Stack length:\",this.snapshotUndoStack.length),this.snapshotUndoStack.push(t),this.snapshotUndoStack.length>this.maxSnapshots&&this.snapshotUndoStack.shift(),this.snapshotRedoStack=[]}restoreSnapshot(t){this.document.blocks=t.blocks,this.document.dataIds=t.dataIds,this.document._selectedBlockId=t.selectedBlockId,this.document.currentOffset=t.currentOffset;for(let t of this.document.blocks)t.pieces&&Array.isArray(t.pieces)&&(t.pieces=t.pieces.map(t=>new n(t.text,t.attributes)));this.document.emit(\"documentChanged\",this.document),setTimeout(()=>{this.document.setCursorPosition(t.cursorPosition||0)},0)}undo(){if(console.log(\"UNDO - Undo stack length:\",this.snapshotUndoStack.length),console.log(\"UNDO - Redo stack length:\",this.snapshotRedoStack.length),0===this.snapshotUndoStack.length)return;const t=this.createSnapshot();this.snapshotRedoStack.push(t),this.snapshotRedoStack.length>this.maxSnapshots&&this.snapshotRedoStack.shift();const e=this.snapshotUndoStack.pop();e&&(console.log(\"UNDO - Restoring cursor position:\",e.cursorPosition),this.restoreSnapshot(e))}redo(){if(0===this.snapshotRedoStack.length)return;const t=this.createSnapshot();this.snapshotUndoStack.push(t),this.snapshotUndoStack.length>this.maxSnapshots&&this.snapshotUndoStack.shift();const e=this.snapshotRedoStack.pop();e&&this.restoreSnapshot(e)}}class E extends e{constructor(t){super(),this.container=t,this.setupButtons()}setupButtons(){this.container.addEventListener(\"mousedown\",t=>{t.preventDefault()}),this.container.addEventListener(\"click\",t=>{const e=t.target.closest(\"button\");if(e){const t=e.getAttribute(\"data-action\");t&&this.emit(\"popupAction\",t)}})}show(t){const e=t.getRangeAt(0).getBoundingClientRect();if(0===e.width&&0===e.height)return void this.hide();this.container.style.display=\"flex\";const n=this.container.offsetWidth,i=this.container.offsetHeight;let o=e.top+window.scrollY-i-8,s=e.left+window.scrollX+e.width/2-n/2;o<window.scrollY&&(o=e.bottom+window.scrollY+8),s<0&&(s=5),this.container.style.top=`${o}px`,this.container.style.left=`${s}px`}hide(){this.container.style.display=\"none\"}updateActiveStates(t){this.container.querySelectorAll(\"button\").forEach(e=>{const n=e.getAttribute(\"data-action\");let i=!1;\"bold\"===n&&t.bold&&(i=!0),\"italic\"===n&&t.italic&&(i=!0),\"underline\"===n&&t.underline&&(i=!0),\"strikethrough\"===n&&t.strikethrough&&(i=!0),\"hyperlink\"===n&&t.hyperlink&&(i=!0),e.classList.toggle(\"active\",i)})}}class w{constructor(){this.linkElement=null,this.createPopup()}setCallbacks(t,e){this.onOpenClick=t,this.onUnlinkClick=e}createPopup(){this.popup=document.createElement(\"div\"),this.popup.className=\"link-popup\",this.popup.style.cssText=\"\\n      position: absolute;\\n      background: #000;\\n      border-radius: 4px;\\n      padding: 2px;\\n      box-shadow: 0 1px 4px rgba(0,0,0,0.5);\\n      z-index: 1000;\\n      display: none;\\n    \";const t=this.createButton(\"Open\",\"🔗\"),e=this.createButton(\"Unlink\",\"✕\");t.addEventListener(\"click\",()=>this.handleOpenClick()),e.addEventListener(\"click\",()=>this.handleUnlinkClick()),this.popup.appendChild(t),this.popup.appendChild(e),document.body.appendChild(this.popup)}createButton(t,e){const n=document.createElement(\"button\");return n.innerHTML=`${e}`,n.title=t,n.style.cssText=\"\\n      background: transparent;\\n      color: white;\\n      border: none;\\n      padding: 4px;\\n      margin: 0 1px;\\n      border-radius: 2px;\\n      cursor: pointer;\\n      font-size: 16px;\\n      transition: background 0.1s;\\n      width: 24px;\\n      height: 24px;\\n      display: flex;\\n      align-items: center;\\n      justify-content: center;\\n    \",n.addEventListener(\"mouseenter\",()=>{n.style.background=\"#333\"}),n.addEventListener(\"mouseleave\",()=>{n.style.background=\"transparent\"}),n}handleOpenClick(){this.linkElement&&this.onOpenClick&&this.onOpenClick(this.linkElement.href)}handleUnlinkClick(){this.onUnlinkClick&&this.linkElement&&this.onUnlinkClick(this.linkElement)}show(t,e,n){this.linkElement=t;const i=t.getBoundingClientRect();this.popup.style.left=`${i.left+window.scrollX}px`,this.popup.style.top=`${i.bottom+window.scrollY+5}px`,this.popup.style.display=\"flex\",this.popup.style.opacity=\"0\",this.popup.style.transform=\"translateY(-2px)\",requestAnimationFrame(()=>{this.popup.style.transition=\"opacity 0.1s ease-in-out, transform 0.1s ease-in-out\",this.popup.style.opacity=\"1\",this.popup.style.transform=\"translateY(0)\"})}hide(){\"none\"!==this.popup.style.display&&(this.popup.style.transition=\"opacity 0.1s ease-in-out, transform 0.1s ease-in-out\",this.popup.style.opacity=\"0\",this.popup.style.transform=\"translateY(-2px)\",setTimeout(()=>{this.popup.style.display=\"none\",this.popup.style.transition=\"\"},100))}isPopup(t){return this.popup.contains(t)}isVisible(){return\"none\"!==this.popup.style.display}}class x extends e{constructor(t,e){var o,s,l,d,m,f,b,y,x,A,S,T,R;super(),this.savedSelection=null,this.debounceTimer=null;const{mainEditorId:L,toolbarId:_,popupToolbarId:O}=k(t,e);this.editorContainer=document.getElementById(L)||null,this.toolbarContainer=document.getElementById(_)||null;const B=document.getElementById(O)||null;if(!this.editorContainer||!this.toolbarContainer||!B)throw new Error(\"Editor element not found or incorrect element type.\");this.document=new i,this.editorView=new c(this.editorContainer,this.document),this.toolbarView=new h(this.toolbarContainer),this.popupToolbarView=new E(B),this.linkPopupView=new w,this.hyperlinkHandler=new p(this.editorContainer,this.editorView,this.document),this.imageHandler=new C(this.editorContainer,this.document),this.undoRedoManager=new v(this.document,this.editorView),this.editorView.setImageHandler(this.imageHandler),this.imageHandler.setEditorView(this.editorView),this.document.setEditorView(this.editorView),this.document.setUndoRedoManager(this.undoRedoManager),this.hyperlinkHandler.setUndoRedoManager(this.undoRedoManager),this.linkPopupView.setCallbacks(t=>this.openLink(t),t=>this.unlinkText(t)),this.currentAttributes={bold:!1,italic:!1,underline:!1,strikethrough:!1,undo:!1,redo:!1,hyperlink:!1},this.manualOverride=!1,this.lastPiece=null,this.toolbarView.on(\"toolbarAction\",(t,e=[])=>this.handleToolbarAction(t,e)),this.popupToolbarView.on(\"popupAction\",t=>this.handleToolbarAction(t)),this.document.on(\"documentChanged\",()=>this.editorView.render()),this.document.on(\"documentChanged\",()=>{var t;const e=this.document.getHtmlContent();this.emit(\"contentChange\",{html:e,text:(null===(t=this.editorContainer)||void 0===t?void 0:t.textContent)||\"\"})}),this.editorContainer.addEventListener(\"keydown\",t=>{this.syncCurrentAttributesWithCursor(),this.handleKeydown(t)}),this.editorContainer.addEventListener(\"keyup\",()=>this.syncCurrentAttributesWithCursor()),this.editorContainer.addEventListener(\"blur\",()=>{this.hyperlinkHandler.hideHyperlinkViewButton()}),document.addEventListener(\"mouseup\",()=>{this.syncCurrentAttributesWithCursor();const t=this.document.getAllSelectedDataIds();console.log(t,\"dataId lntgerr\")}),document.addEventListener(\"selectionchange\",()=>{const t=window.getSelection();t&&!t.isCollapsed||(this.document.dataIds=[],this.document.selectAll=!1)}),null===(o=document.getElementById(\"fontColor\"))||void 0===o||o.addEventListener(\"click\",t=>{t.stopPropagation();const e=document.getElementById(\"colorWrapper\"),n=document.getElementById(\"fontColorPicker\");if(!e||!n)return;const i=\"block\"===e.style.display;e.style.display=i?\"none\":\"block\"}),null===(s=document.getElementById(\"fontColorPicker\"))||void 0===s||s.addEventListener(\"input\",t=>{const e=t.target.value,[n,i]=this.getSelectionRange(),o=document.getElementById(\"fontColorIndicator\");o&&(o.style.backgroundColor=e),this.document.dataIds.length>1?this.document.blocks.forEach(t=>{if(this.document.dataIds.includes(t.dataId)){this.document.selectedBlockId=t.dataId;let i=0;t.pieces.forEach(t=>{i+=t.text.length});let o=n-i;this.document.applyFontColor(o,i,e)}}):(this.debounceTimer&&clearTimeout(this.debounceTimer),this.debounceTimer=setTimeout(()=>{this.document.applyFontColor(n,i,e)},300))}),null===(l=document.getElementById(\"colorResetFont\"))||void 0===l||l.addEventListener(\"click\",()=>{const t=document.getElementById(\"fontColorPicker\"),e=document.getElementById(\"fontColorIndicator\");t&&(t.value=\"#000000\",e&&(e.style.backgroundColor=\"#000000\"),t.dispatchEvent(new Event(\"input\")))}),document.addEventListener(\"click\",t=>{var e;const n=t.target,i=document.getElementById(\"colorWrapper\"),o=document.getElementById(\"colorBgWrapper\"),s=document.getElementById(\"fontColor\"),l=document.getElementById(\"bgColor\");!i||n.closest(\"#colorWrapper\")||n===s||(null==s?void 0:s.contains(n))||(i.style.display=\"none\"),!o||n.closest(\"#colorBgWrapper\")||n===l||(null==l?void 0:l.contains(n))||(o.style.display=\"none\"),(null===(e=this.editorContainer)||void 0===e?void 0:e.contains(n))||n.closest(\".hyperlink-popup\")||this.hyperlinkHandler.hideHyperlinkViewButton()}),null===(d=document.getElementById(\"bgColor\"))||void 0===d||d.addEventListener(\"click\",t=>{t.stopPropagation();const e=document.getElementById(\"colorBgWrapper\"),n=document.getElementById(\"bgColorPicker\");if(!e||!n)return;const i=\"block\"===e.style.display;e.style.display=i?\"none\":\"block\"}),null===(m=document.getElementById(\"bgColorPicker\"))||void 0===m||m.addEventListener(\"input\",t=>{const e=t.target.value,[n,i]=this.getSelectionRange(),o=document.getElementById(\"bgColorIndicator\");o&&(o.style.backgroundColor=e),this.document.dataIds.length>1?this.document.blocks.forEach(t=>{if(this.document.dataIds.includes(t.dataId)){this.document.selectedBlockId=t.dataId;let i=0;t.pieces.forEach(t=>{i+=t.text.length});let o=n-i;this.document.applyBgColor(o,i,e)}}):(this.debounceTimer&&clearTimeout(this.debounceTimer),this.debounceTimer=setTimeout(()=>{this.document.applyBgColor(n,i,e)},300))}),null===(f=document.getElementById(\"colorResetBG\"))||void 0===f||f.addEventListener(\"click\",()=>{const t=document.getElementById(\"bgColorPicker\"),e=document.getElementById(\"bgColorIndicator\");t&&(t.value=\"#ffffff\",e&&(e.style.backgroundColor=\"#ffffff\"),t.dispatchEvent(new Event(\"input\")))}),null===(b=document.getElementById(\"getHtmlButton\"))||void 0===b||b.addEventListener(\"click\",t=>{const e=this.document.getHtmlContent(!0);console.log(\"Editor HTML Content:\",e),this.htmlToJsonParser=new I(e);const n=this.htmlToJsonParser.parse();console.log(\"htmltoJson\",JSON.stringify(n,null,2),n),this.showAcknowledgement(\"HTML copied to clipboard\",2e3)}),null===(y=document.getElementById(\"loadHtmlButton\"))||void 0===y||y.addEventListener(\"click\",t=>{this.undoRedoManager.saveUndoSnapshot();const e=u.TEST_HTML_CODE;this.htmlToJsonParser=new I(e),console.log(this.htmlToJsonParser,\"this.htmlToJsonParser\");const n=this.htmlToJsonParser.parse();this.document.blocks=n,this.document.dataIds[0]=n[0].dataId,this.document.selectedBlockId=\"data-id-1734604240404\",this.document.emit(\"documentChanged\",this);const[i]=this.getSelectionRange();this.document.blocks.forEach(t=>{if(this.document.dataIds.includes(t.dataId)){this.document.selectedBlockId=t.dataId;let e=0;t.pieces.forEach(t=>{e+=t.text.length});let n=i-e;this.document.setFontSize(n,e,t.fontSize)}}),console.log(\"blocks\",this.document.blocks,this.document.dataIds,this.document.currentOffset),console.log(\"htmltoJson\",JSON.stringify(n,null,2),n)}),null===(x=document.getElementById(\"fontFamily\"))||void 0===x||x.addEventListener(\"change\",t=>{this.undoRedoManager.saveUndoSnapshot();const e=t.target.value,[n,i]=this.getSelectionRange();this.document.dataIds.length>1?this.document.blocks.forEach(t=>{if(this.document.dataIds.includes(t.dataId)){this.document.selectedBlockId=t.dataId;let i=0;t.pieces.forEach(t=>{i+=t.text.length});let o=n-i;this.document.setFontFamily(o,i,e)}}):this.document.setFontFamily(n,i,e)}),null===(A=document.getElementById(\"fontSize\"))||void 0===A||A.addEventListener(\"change\",t=>{this.undoRedoManager.saveUndoSnapshot();const e=t.target.value,[n,i]=this.getSelectionRange();this.document.dataIds.length>1?this.document.blocks.forEach(t=>{if(this.document.dataIds.includes(t.dataId)){this.document.selectedBlockId=t.dataId;let i=0;t.pieces.forEach(t=>{i+=t.text.length});let o=n-i;this.document.setFontSize(o,i,e)}}):this.document.setFontSize(n,i,e)}),null===(S=document.getElementById(\"alignLeft\"))||void 0===S||S.addEventListener(\"click\",()=>{console.log(\"alignment alignLeft\",this.document.dataIds),this.document.dataIds.forEach(t=>this.document.setAlignment(\"left\",t))}),null===(T=document.getElementById(\"alignCenter\"))||void 0===T||T.addEventListener(\"click\",()=>{console.log(\"alignment alignCenter\",this.document.dataIds),this.document.dataIds.forEach(t=>this.document.setAlignment(\"center\",t))}),null===(R=document.getElementById(\"alignRight\"))||void 0===R||R.addEventListener(\"click\",()=>{console.log(\"alignment alignRight\",this.document.dataIds),this.document.dataIds.forEach(t=>this.document.setAlignment(\"right\",t))}),this.editorContainer.addEventListener(\"keydown\",t=>{if((t.ctrlKey||t.metaKey)&&!t.altKey){const e=t.key.toLowerCase();if([\"b\",\"i\",\"u\",\"h\"].includes(e)){t.preventDefault();let n=\"b\";switch(e){case\"b\":n=\"bold\";break;case\"i\":n=\"italic\";break;case\"u\":n=\"underline\";break;case\"h\":n=\"hyperlink\"}this.handleToolbarAction(n)}if(\"z\"===e?(t.preventDefault(),this.undoRedoManager.undo()):\"y\"===e&&(t.preventDefault(),this.undoRedoManager.redo()),\"a\"===e){const t=this.document.handleCtrlASelection();this.document.selectAll=!0,console.log(\"Selected text is inside element with data-id:\",t)}\"l\"===t.key?(t.preventDefault(),this.document.setAlignment(\"left\",this.document.selectedBlockId)):\"e\"===t.key?(t.preventDefault(),this.document.setAlignment(\"center\",this.document.selectedBlockId)):\"r\"===t.key&&(t.preventDefault(),this.document.setAlignment(\"right\",this.document.selectedBlockId))}}),document.addEventListener(\"selectionchange\",this.handleSelectionChange.bind(this)),this.editorContainer.addEventListener(\"click\",t=>{const e=t.target;if(\"A\"===e.tagName||e.closest(\"a\")){t.preventDefault(),t.stopPropagation();const n=\"A\"===e.tagName?e:e.closest(\"a\");this.showLinkPopup(n,t.clientX,t.clientY)}else this.hideLinkPopup()}),document.addEventListener(\"click\",t=>{this.linkPopupView.isPopup(t.target)||this.hideLinkPopup()}),this.document.emit(\"documentChanged\",this.document),this.editorContainer.addEventListener(\"paste\",t=>{var e,i;this.undoRedoManager.saveUndoSnapshot(),t.preventDefault();const o=null===(e=t.clipboardData)||void 0===e?void 0:e.getData(\"text/html\"),[s,l]=this.getSelectionRange();l>s&&this.document.deleteRange(s,l,this.document.selectedBlockId,this.document.currentOffset);let d=[];if(o)d=g(o);else{const e=function(t){const e=[];let n,i=0;for(;null!==(n=r.exec(t));){const o=n.index;let s=n[0],l=\"\";const r=s.match(/[.,!?;:)\\]\\}\"']+$/);if(r&&(l=r[0],s=s.slice(0,-l.length)),a(t,o))continue;o>i&&e.push({text:t.substring(i,o),isUrl:!1});let d=s;d.startsWith(\"http\")||(d=\"https://\"+d),e.push({text:s,isUrl:!0,url:d}),l&&e.push({text:l,isUrl:!1}),i=o+n[0].length}return i<t.length&&e.push({text:t.substring(i),isUrl:!1}),e}((null===(i=t.clipboardData)||void 0===i?void 0:i.getData(\"text/plain\"))||\"\");d=e.map(t=>t.isUrl&&t.url?new n(t.text,Object.assign(Object.assign({},this.currentAttributes),{hyperlink:t.url})):new n(t.text,Object.assign({},this.currentAttributes)))}let c=s;for(const t of d)this.document.insertAt(t.text,Object.assign({},t.attributes),c,this.document.selectedBlockId,0,\"\",\"batch\"),c+=t.text.length;this.setCursorPosition(c)}),this.editorContainer.addEventListener(\"dragover\",t=>{t.preventDefault()}),this.editorContainer.addEventListener(\"drop\",t=>{var e,i;t.preventDefault(),this.undoRedoManager.saveUndoSnapshot();const o=null===(e=t.dataTransfer)||void 0===e?void 0:e.getData(\"text/html\"),[s,l]=this.getSelectionRange();l>s&&this.document.deleteRange(s,l,this.document.selectedBlockId,this.document.currentOffset);let r=[];if(o)r=g(o);else{const e=(null===(i=t.dataTransfer)||void 0===i?void 0:i.getData(\"text/plain\"))||\"\";r=[new n(e,Object.assign({},this.currentAttributes))]}let a=s;for(const t of r)this.document.insertAt(t.text,Object.assign({},t.attributes),a,this.document.selectedBlockId,0,\"\",\"batch\"),a+=t.text.length;this.setCursorPosition(a)})}getSelectionRange(){const t=o(this.editorView.container);return t?[t.start,t.end]:[0,0]}applyFontColor(t){const e=window.getSelection();if(!e||0===e.rangeCount)return;e.getRangeAt(0).toString()}handleToolbarAction(t,e=[]){const[n,i]=this.getSelectionRange();switch(t){case\"orderedList\":if(this.document.dataIds.length>1)this.document.toggleOrderedListForMultipleBlocks(this.document.dataIds);else{const t=this.document.selectedBlockId||this.document.dataIds[0];this.document.toggleOrderedList(t)}this.document.updateOrderedListNumbers();break;case\"unorderedList\":this.document.dataIds.forEach(t=>{this.document.toggleUnorderedList(t)});break;case\"image\":this.imageHandler.insertImage();break;default:if(n<i)switch(this.undoRedoManager.saveUndoSnapshot(),t){case\"bold\":this.document.dataIds.length>1?this.document.blocks.forEach(t=>{if(this.document.dataIds.includes(t.dataId)){this.document.selectedBlockId=t.dataId;let e=0;t.pieces.forEach(t=>{e+=t.text.length});let i=n-e;this.document.toggleBoldRange(i,e)}}):this.document.toggleBoldRange(n,i);break;case\"italic\":this.document.dataIds.length>1?this.document.blocks.forEach(t=>{if(this.document.dataIds.includes(t.dataId)){this.document.selectedBlockId=t.dataId;let e=0;t.pieces.forEach(t=>{e+=t.text.length});let i=n-e;this.document.toggleItalicRange(i,e)}}):this.document.toggleItalicRange(n,i);break;case\"underline\":this.document.dataIds.length>1?this.document.blocks.forEach(t=>{if(this.document.dataIds.includes(t.dataId)){this.document.selectedBlockId=t.dataId;let e=0;t.pieces.forEach(t=>{e+=t.text.length});let i=n-e;this.document.toggleUnderlineRange(i,e)}}):this.document.toggleUnderlineRange(n,i);break;case\"strikethrough\":this.document.dataIds.length>1?this.document.blocks.forEach(t=>{if(this.document.dataIds.includes(t.dataId)){this.document.selectedBlockId=t.dataId;let e=0;t.pieces.forEach(t=>{e+=t.text.length});let i=n-e;this.document.toggleStrikethroughRange(i,e)}}):this.document.toggleStrikethroughRange(n,i);break;case\"hyperlink\":this.hyperlinkHandler.hanldeHyperlinkClick(n,i,this.document.currentOffset,this.document.selectedBlockId,this.document.blocks)}else this.currentAttributes[t]=!this.currentAttributes[t],this.manualOverride=!0}this.toolbarView.updateActiveStates(this.currentAttributes)}handleSelectionChange(){var t,e;const n=window.getSelection();if(!n||0===n.rangeCount||!(null===(t=this.editorContainer)||void 0===t?void 0:t.contains(n.anchorNode)))return this.hyperlinkHandler.hideHyperlinkViewButton(),void this.popupToolbarView.hide();const[i]=this.getSelectionRange();if(this.imageHandler.currentCursorLocation=i,n.isCollapsed?(this.document.dataIds=[],this.document.selectAll=!1,this.popupToolbarView.hide()):(this.document.getAllSelectedDataIds(),this.document.dataIds.length===this.document.blocks.length&&this.document.blocks.length>0&&(this.document.selectAll=!0),this.popupToolbarView.show(n)),!n||0===n.rangeCount)return;n&&!0===n.isCollapsed&&(this.document.dataIds=[],this.document.selectAll=!1);const o=n.getRangeAt(0),s=(null===(e=o.startContainer.parentElement)||void 0===e?void 0:e.closest(\"[data-id]\"))||o.startContainer;s instanceof HTMLElement&&(this.document.selectedBlockId=s.getAttribute(\"data-id\")||(o.startContainer instanceof HTMLElement?o.startContainer.getAttribute(\"data-id\"):null)),this.syncCurrentAttributesWithCursor()}handleKeydown(t){var e,i;const[o,s]=this.getSelectionRange();if(this.imageHandler.currentCursorLocation=o,\"Enter\"===t.key){t.preventDefault(),this.undoRedoManager.saveUndoSnapshot();const i=`data-id-${Date.now()}`,l=this.document.blocks.findIndex(t=>t.dataId===this.document.selectedBlockId),r=this.document.blocks[l],a=(null===(e=null==r?void 0:r.pieces)||void 0===e?void 0:e.length)>0?r.pieces[r.pieces.length-1]:null,d=a?Object.assign({},a.attributes):{fontFamily:\"Arial\",fontSize:\"16px\",fontColor:\"#000000\",bgColor:\"#ffffff\",bold:!1,italic:!1,underline:!1,strikethrough:!1};if(r&&\"image\"===r.type)this.document.blocks.splice(l+1,0,{dataId:i,class:\"paragraph-block\",pieces:[new n(\"​\",d)],type:\"text\"}),this.document.emit(\"documentChanged\",this),this.imageHandler.setCursorPostion(1,i);else if(!r||\"ol\"!==r.listType&&\"ul\"!==r.listType&&\"li\"!==r.listType){const t=this.getCurrentCursorBlock(),e=null==t?void 0:t.toString();if(e&&r&&\"text\"===r.type){const t=o-this.document.currentOffset,s=[],l=[];let a=0;for(const e of r.pieces){const i=a+e.text.length;if(i<=t)s.push(e.clone());else if(a>=t)l.push(e.clone());else{const i=t-a,o=e.text.slice(0,i),r=e.text.slice(i);o&&s.push(new n(o,Object.assign({},e.attributes))),r&&l.push(new n(r,Object.assign({},e.attributes)))}a=i}r.pieces=s.length>0?s:[new n(\"​\",d)];const c=l.length>0?l:[new n(\"​\",d)],h=this.addBlockAfter(this.document.blocks,e,{dataId:i,class:\"paragraph-block\",pieces:c,type:\"text\"});this.document.blocks=h}else this.document.blocks.push({dataId:i,class:\"paragraph-block\",pieces:[new n(\"​\",d)],type:\"text\"})}else{let t={dataId:i,class:\"paragraph-block\",pieces:[new n(\"​\",d)],type:\"text\"},e=\"\";if(\"ol\"===r.listType?(t.listType=\"li\",t.listStart=r.listStart+1,t.parentId=r.dataId,e=r.dataId):\"li\"===r.listType?(t.listType=\"li\",t.listStart=r.listStart+1,t.parentId=r.parentId,e=r.parentId):\"ul\"===r.listType&&(t.listType=\"ul\",t.parentId=r.parentId||r.dataId),this.document.blocks.splice(l+1,0,t),\"ol\"===r.listType||\"li\"===r.listType)for(let t=l+2;t<this.document.blocks.length;t++){const n=this.document.blocks[t];if(\"li\"!==n.listType||n.parentId!==e)break;n.listStart+=1}}this.syncCurrentAttributesWithCursor(),this.editorView.render(),this.setCursorPosition(s+1,i)}else if(\"Backspace\"===t.key){if(t.preventDefault(),this.imageHandler.isImageHighlighted){const t=this.document.blocks.findIndex(t=>t.dataId===this.imageHandler.highLightedImageDataId);return this.imageHandler.deleteImage(),void this.imageHandler.setCursorPostion(1,this.document.blocks[t-1].dataId)}const e=window.getSelection();console.log(e,\"selection lntgerr\");if((this.document.selectAll||this.document.dataIds.length===this.document.blocks.length&&this.document.dataIds.length>0||this.document.dataIds.length>1)&&!(null===(i=window.getSelection())||void 0===i?void 0:i.isCollapsed)){this.undoRedoManager.saveUndoSnapshot();const t=this.document.dataIds[0],e=this.document.blocks.findIndex(e=>e.dataId===t);this.document.deleteBlocks();let i=null,o=0;if(0===this.document.blocks.length){const t=`data-id-${Date.now()}`;this.document.blocks.push({dataId:t,class:\"paragraph-block\",pieces:[new n(\" \")],type:\"text\"}),i=t,o=0,this.editorView.render()}else if(e<this.document.blocks.length)i=this.document.blocks[e].dataId,o=0;else{const t=this.document.blocks[this.document.blocks.length-1];i=t.dataId,o=t.pieces.reduce((t,e)=>t+e.text.length,0)}return void this.setCursorPosition(o,i)}if(s>o){this.undoRedoManager.saveUndoSnapshot();const t=Math.min(this.document.currentOffset,o);this.document.deleteRange(o,s,this.document.selectedBlockId,t,!0),this.setCursorPosition(o-1);const e=this.document.blocks.findIndex(t=>t.dataId===this.document.selectedBlockId);console.log(e,\"index lntgerr\");if(null===document.querySelector(`[data-id=\"${this.document.selectedBlockId}\"]`)){let t=0;console.log(t,\" listStart lntgerr\");const e=this.document.blocks.map((e,n)=>(void 0===(null==e?void 0:e.listType)&&null===(null==e?void 0:e.listType)||(\"ol\"===(null==e?void 0:e.listType)?(t=1,e.listStart=1):\"li\"===(null==e?void 0:e.listType)&&(t+=1,e.listStart=t)),e));console.log(e,\"blocks lntgerr\"),this.document.emit(\"documentChanged\",this)}}else o===s&&o>0&&(this.document.deleteRange(o-1,o,this.document.selectedBlockId,this.document.currentOffset,!0),this.setCursorPosition(o-1))}else if(1!==t.key.length||t.ctrlKey||t.metaKey||t.altKey){if(\"Delete\"===t.key){if(t.preventDefault(),o===s){if(this.undoRedoManager.saveUndoSnapshot(),s>o){const t=Math.min(this.document.currentOffset,o);this.document.deleteRange(o,s,this.document.selectedBlockId,t),this.setCursorPosition(o)}else if(s>o)return this.undoRedoManager.saveUndoSnapshot(),void this.document.deleteRange(o,s,this.document.selectedBlockId);const t=this.document.blocks.findIndex(t=>t.dataId===this.document.selectedBlockId);if(-1===t)return;const e=this.document.blocks[t].pieces.reduce((t,e)=>t+e.text.length,0);o-this.document.currentOffset<e?(this.document.deleteRange(o,o+1,this.document.selectedBlockId,this.document.currentOffset,!1),this.setCursorPosition(o)):s>o&&(this.undoRedoManager.saveUndoSnapshot(),this.document.deleteRange(o,s,this.document.selectedBlockId),this.setCursorPosition(o))}this.hyperlinkHandler.hideHyperlinkViewButton()}}else t.preventDefault(),s>o&&(this.undoRedoManager.saveUndoSnapshot(),this.document.deleteRange(o,s,this.document.selectedBlockId,this.document.currentOffset,!1)),console.log(\"insertat\",t.key,this.currentAttributes,o,this.document.selectedBlockId,this.document.currentOffset,\"\",\"\",!t.isTrusted||!1),this.document.insertAt(t.key,this.currentAttributes,o,this.document.selectedBlockId,this.document.currentOffset,\"\",\"\",!t.isTrusted||!1),this.setCursorPosition(o+1)}extractTextFromDataId(t){const e=window.getSelection();if(console.log(\"selection::\",e),!e||0===e.rangeCount)return{remainingText:\"\",piece:null};const n=e.getRangeAt(0).startContainer;let i=\"\";console.log(0,\"count lntgerr\");const o=this.document.blocks.filter(e=>{if(e.dataId===t)return e}),s=document.querySelector(`[data-id=\"${t}\"]`),l=this.document.getCursorOffsetInParent(`[data-id=\"${t}\"]`);let r=[],a=0;if(o[0].pieces.forEach((t,e)=>{i+=t.text,(null==l?void 0:l.innerText)===t.text&&(a=e,r.push(t))}),o[0].pieces.length>1&&o[0].pieces.forEach((t,e)=>{a<e&&r.push(t)}),!s)return console.error(`Element with data-id \"${t}\" not found.`),{remainingText:\"\",piece:null};if(!s.contains(n))return console.error(`Cursor is not inside the element with data-id \"${t}\".`),{remainingText:\"\",piece:null};const d=i,c=null==l?void 0:l.offset,h=d.slice(c),u=d.slice(0,c);return s.textContent=u,{remainingText:h,piece:r}}getCurrentCursorBlock(){const t=window.getSelection();if(!t||0===t.rangeCount)return null;const e=t.getRangeAt(0).startContainer,n=e.nodeType===Node.TEXT_NODE?e.parentElement:e;let i=null;return n&&n instanceof Element&&(i=n.closest(\"[data-id]\")),(null==i?void 0:i.getAttribute(\"data-id\"))||null}addBlockAfter(t,e,n){const i=t.findIndex(t=>t.dataId===e);if(-1===i)return console.error(`Block with dataId \"${e}\" not found.`),t;return[...t.slice(0,i+1),n,...t.slice(i+1)]}syncCurrentAttributesWithCursor(){var t;const[e,n]=this.getSelectionRange();console.log(\"log1\",{start:e,end:n});const i=this.document.blocks.findIndex(t=>t.dataId===this.document.selectedBlockId);if(\"image\"===(null===(t=this.document.blocks[i])||void 0===t?void 0:t.type)?this.imageHandler.addStyleToImage(this.document.selectedBlockId||\"\"):this.imageHandler.isImageHighlighted&&this.imageHandler.clearImageStyling(),e===n){const t=this.document.findPieceAtOffset(e,this.document.selectedBlockId);t?(t!==this.lastPiece&&(this.manualOverride=!1,this.lastPiece=t),this.manualOverride||(this.currentAttributes={bold:t.attributes.bold,italic:t.attributes.italic,underline:t.attributes.underline,strikethrough:t.attributes.strikethrough||!1,hyperlink:t.attributes.hyperlink||!1,fontFamily:t.attributes.fontFamily,fontSize:t.attributes.fontSize,fontColor:t.attributes.fontColor,bgColor:t.attributes.bgColor},this.toolbarView.updateActiveStates(this.currentAttributes),this.popupToolbarView.updateActiveStates(this.currentAttributes)),this.hyperlinkHandler.hideHyperlinkViewButton()):(this.hyperlinkHandler.hideHyperlinkViewButton(),this.manualOverride||(this.currentAttributes={bold:!1,italic:!1,underline:!1,strikethrough:!1,hyperlink:!1},this.toolbarView.updateActiveStates(this.currentAttributes),this.popupToolbarView.updateActiveStates(this.currentAttributes)),this.lastPiece=null)}else{this.hyperlinkHandler.hideHyperlinkViewButton();const t=this.document.isRangeEntirelyAttribute(e,n,\"bold\"),i=this.document.isRangeEntirelyAttribute(e,n,\"italic\"),o=this.document.isRangeEntirelyAttribute(e,n,\"underline\"),s=this.document.isRangeEntirelyAttribute(e,n,\"strikethrough\");this.currentAttributes={bold:t,italic:i,underline:o,strikethrough:s,hyperlink:!1},this.toolbarView.updateActiveStates(this.currentAttributes),this.popupToolbarView.updateActiveStates(this.currentAttributes)}}setCursorPosition(t,e=\"\"){if(\"\"===e)this.editorView.container.focus();else{const t=document.querySelector('[data-id=\"'+e+'\"]');t&&t.focus()}const n=window.getSelection();if(!n)return;const i=document.createRange();let o=0;const s=[this.editorView.container];let l;for(;l=s.pop();)if(3===l.nodeType){const e=l,n=o+e.length;if(t>=o&&t<=n){i.setStart(e,t-o),i.collapse(!0);break}o=n}else if(\"BR\"===l.tagName){if(t===o){i.setStartBefore(l),i.collapse(!0);break}o++}else{const t=l;let e=t.childNodes.length;for(;e--;)s.push(t.childNodes[e])}n.removeAllRanges(),n.addRange(i)}showAcknowledgement(t,e=2e3){const n=document.getElementById(u.TOAST_ID);n&&n.remove();const i=document.createElement(\"div\");i.id=u.TOAST_ID,i.className=\"ti-toast\",i.textContent=t||u.TOAST_DEFAULT_MESSAGE,document.body.appendChild(i),i.offsetHeight,i.classList.add(u.TOAST_SHOW_CLASS),setTimeout(()=>{i.classList.remove(u.TOAST_SHOW_CLASS),setTimeout(()=>i.remove(),200)},e||u.TOAST_DEFAULT_DURATION_MS)}showLinkPopup(t,e,n){this.linkPopupView.show(t,e,n)}hideLinkPopup(){this.linkPopupView.hide()}openLink(t){window.open(t,\"_blank\"),this.hideLinkPopup()}unlinkText(t){this.undoRedoManager.saveUndoSnapshot();const e=t.textContent||\"\",n=(this.editorView.container.textContent||\"\").indexOf(e);-1!==n&&(this.document.formatAttribute(n,n+e.length,\"hyperlink\",!1),this.editorView.render()),this.hideLinkPopup()}onContentChange(t){this.on(\"contentChange\",t)}getContent(){return this.document.getHtmlContent()||\"\"}getTextContent(){var t;return(null===(t=this.editorContainer)||void 0===t?void 0:t.textContent)||\"\"}}window.TextIgniter=x,t.TextIgniter=x});\n","export * from './component/TextIgniterComponent'","import { TextIgniter } from '@mindfiredigital/textigniter';\nimport '@mindfiredigital/textigniter/dist/styles/text-igniter.css';\n\nexport class TextIgniterComponent extends HTMLElement {\n  private textIgniter!: TextIgniter;\n  private initialized = false;\n  private config = {};\n  private template = `<div id=\"editor-container\"></div>`;\n\n  constructor() {\n    super();\n    if (!this.firstElementChild) {\n      this.innerHTML = this.template;\n    }\n  }\n\n  static get observedAttributes() {\n    return ['config'];\n  }\n\n  attributeChangedCallback(name: string, oldValue: string, newValue: string) {\n    if (name === 'config' && newValue !== oldValue) {\n      try {\n        console.log(newValue);\n        const parsedConfig = JSON.parse(newValue);\n        this.config = parsedConfig;\n        this.initializeEditor(); // Reinitialize Core when config changes\n      } catch (e) {\n        console.error('Failed to parse config: ', e);\n      }\n    }\n  }\n\n  connectedCallback() {\n    if (this.initialized) {\n      return;\n    }\n    this.initializeEditor();\n  }\n\n  private initializeEditor() {\n    if (this.initialized) {\n      return;\n    }\n\n    const editorContainer = this.querySelector('#editor-container')?.id;\n    if (!editorContainer) {\n      console.error('Editor element not found inside the DOM.');\n      return;\n    }\n\n    try {\n      this.initialized = true;\n      this.textIgniter = new TextIgniter(\n        editorContainer as any,\n        this.config as any\n      );\n\n      // Subscribe to content changes and dispatch custom event\n      this.textIgniter.onContentChange(data => {\n        const event = new CustomEvent('content-change', {\n          detail: data,\n          bubbles: true,\n          composed: true,\n        });\n        this.dispatchEvent(event);\n      });\n    } catch (error) {\n      console.error('Failed to initialize TextIgniter:', error);\n      this.initialized = false;\n    }\n  }\n}\n\nif (!customElements.get('text-igniter')) {\n  customElements.define('text-igniter', TextIgniterComponent);\n}\n","\n          export default function styleInject(css, { insertAt } = {}) {\n            if (!css || typeof document === 'undefined') return\n          \n            const head = document.head || document.getElementsByTagName('head')[0]\n            const style = document.createElement('style')\n            style.type = 'text/css'\n          \n            if (insertAt === 'top') {\n              if (head.firstChild) {\n                head.insertBefore(style, head.firstChild)\n              } else {\n                head.appendChild(style)\n              }\n            } else {\n              head.appendChild(style)\n            }\n          \n            if (style.styleSheet) {\n              style.styleSheet.cssText = css\n            } else {\n              style.appendChild(document.createTextNode(css))\n            }\n          }\n          ","import styleInject from '#style-inject';styleInject(\".editor-container {\\n  border: none;\\n  padding: 0;\\n  border-radius: 12px;\\n}\\n.toolbar {\\n  display: flex;\\n  align-items: center;\\n  flex-wrap: wrap;\\n  gap: 4px;\\n  padding: 8px 12px;\\n  margin-bottom: 0;\\n  background: #fff;\\n  border-radius: 10px;\\n  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.08);\\n}\\n.toolbar-separator {\\n  width: 1px;\\n  height: 24px;\\n  background: #e5e7eb;\\n  margin: 0 8px;\\n}\\n.toolbar button {\\n  padding: 8px;\\n  border: none;\\n  border-radius: 6px;\\n  background: transparent;\\n  cursor: pointer;\\n  font-size: 15px;\\n  font-weight: 500;\\n  color: #000000;\\n  transition: all 0.15s ease;\\n  display: inline-flex;\\n  align-items: center;\\n  justify-content: center;\\n  position: relative;\\n  min-width: 32px;\\n  height: 32px;\\n}\\n.toolbar button:hover {\\n  background: #f3f4f6;\\n}\\n.toolbar button:hover#fontColor,\\n.toolbar button:hover#bgColor {\\n  background: transparent !important;\\n}\\n.toolbar button[data-tooltip]:hover#fontColor,\\n.toolbar button[data-tooltip]:hover#bgColor {\\n  background: transparent !important;\\n}\\n.toolbar button.active {\\n  background: #e5e7eb;\\n  color: #111827;\\n}\\n.toolbar button svg {\\n  width: 18px;\\n  height: 18px;\\n  display: block;\\n}\\n.toolbar button[data-tooltip],\\n.toolbar select[data-tooltip],\\n.popup-toolbar button[data-tooltip] {\\n  position: relative;\\n}\\n.toolbar button[data-tooltip]::before,\\n.toolbar select[data-tooltip]::before,\\n.popup-toolbar button[data-tooltip]::before {\\n  content: attr(data-tooltip);\\n  position: absolute;\\n  bottom: calc(100% + 8px);\\n  left: 50%;\\n  transform: translateX(-50%) scale(0.9);\\n  padding: 8px 12px;\\n  background: #1f2937;\\n  color: #fff;\\n  font-size: 12px;\\n  font-weight: 500;\\n  border-radius: 8px;\\n  white-space: nowrap;\\n  z-index: 1000;\\n  pointer-events: none;\\n  opacity: 0;\\n  transition: opacity 0.15s ease, transform 0.15s ease;\\n  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);\\n}\\n.toolbar button[data-tooltip]::after,\\n.toolbar select[data-tooltip]::after,\\n.popup-toolbar button[data-tooltip]::after {\\n  content: \\\"\\\";\\n  position: absolute;\\n  bottom: calc(100% + 4px);\\n  left: 50%;\\n  transform: translateX(-50%) scale(0.9);\\n  border: 5px solid transparent;\\n  z-index: 1000;\\n  pointer-events: none;\\n  opacity: 0;\\n  transition: opacity 0.15s ease, transform 0.15s ease;\\n}\\n.toolbar button[data-tooltip]:hover::before,\\n.toolbar button[data-tooltip]:hover::after,\\n.toolbar select[data-tooltip]:hover::before,\\n.toolbar select[data-tooltip]:hover::after,\\n.popup-toolbar button[data-tooltip]:hover::before,\\n.popup-toolbar button[data-tooltip]:hover::after {\\n  opacity: 1;\\n  transform: translateX(-50%) scale(1);\\n}\\n#fontFamily,\\n#fontSize {\\n  padding: 6px 12px;\\n  padding-right: 28px;\\n  border: 1px solid #e5e7eb;\\n  border-radius: 8px;\\n  background-color: #fff;\\n  background-image: url(\\\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' viewBox='0 0 24 24' fill='none' stroke='%236b7280' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpolyline points='6 9 12 15 18 9'%3E%3C/polyline%3E%3C/svg%3E\\\");\\n  background-repeat: no-repeat;\\n  background-position: right 10px center;\\n  cursor: pointer;\\n  font-size: 14px;\\n  font-weight: 500;\\n  color: #000000;\\n  transition: all 0.15s ease;\\n  appearance: none;\\n  -webkit-appearance: none;\\n}\\n#fontFamily:hover,\\n#fontSize:hover {\\n  border-color: #d1d5db;\\n  background-color: #f9fafb;\\n}\\n#fontFamily:focus,\\n#fontSize:focus {\\n  outline: none;\\n  border-color: #9ca3af;\\n  box-shadow: 0 0 0 3px rgba(156, 163, 175, 0.15);\\n}\\n#fontFamily {\\n  min-width: 130px;\\n}\\n#fontSize {\\n  min-width: 75px;\\n}\\n#editor {\\n  border: 1px solid #e5e7eb;\\n  border-radius: 10px;\\n  padding: 20px 24px;\\n  min-height: 200px;\\n  outline: none;\\n  white-space: pre-wrap;\\n  overflow-wrap: break-word;\\n  background: #fff;\\n  margin-top: 12px;\\n  font-size: 15px;\\n  line-height: 1.6;\\n  color: #1f2937;\\n}\\n#editor:focus {\\n  border-color: #d1d5db;\\n  box-shadow: 0 0 0 3px rgba(156, 163, 175, 0.1);\\n}\\n.paragraph-block {\\n  padding: 2px 0;\\n  margin: 0;\\n}\\n#fontColor,\\n#bgColor {\\n  font-size: 15px;\\n  font-weight: 600;\\n  position: relative;\\n  padding-bottom: 10px;\\n}\\n#fontColor::after {\\n  content: \\\"\\\";\\n  position: absolute;\\n  bottom: 4px;\\n  left: 50%;\\n  transform: translateX(-50%);\\n  width: 14px;\\n  height: 3px;\\n  border-radius: 2px;\\n}\\n#bgColor::after {\\n  content: \\\"\\\";\\n  position: absolute;\\n  bottom: 4px;\\n  left: 50%;\\n  transform: translateX(-50%);\\n  width: 14px;\\n  height: 3px;\\n  border-radius: 2px;\\n}\\n#fontColorPicker,\\n#bgColorPicker {\\n  border: 0;\\n  padding: 0;\\n  margin: 0;\\n  height: 20px;\\n  width: 20px;\\n  cursor: pointer;\\n  border-radius: 4px;\\n}\\n#fontColorWrapper {\\n  display: flex;\\n  align-items: center;\\n  gap: 4px;\\n}\\n#hyperlink-container,\\n#hyperlink-container-view {\\n  position: absolute;\\n  display: none;\\n  z-index: 1000;\\n  padding: 12px;\\n  border: 1px solid #e5e7eb;\\n  border-radius: 10px;\\n  background: white;\\n  box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1), 0 4px 10px rgba(0, 0, 0, 0.05);\\n}\\n#hyperlink-input {\\n  width: 220px;\\n  margin-right: 8px;\\n  padding: 8px 12px;\\n  border: 1px solid #e5e7eb;\\n  border-radius: 6px;\\n  font-size: 14px;\\n  transition: all 0.15s ease;\\n}\\n#hyperlink-input:focus {\\n  outline: none;\\n  border-color: #9ca3af;\\n  box-shadow: 0 0 0 3px rgba(156, 163, 175, 0.15);\\n}\\n#apply-hyperlink,\\n#cancel-hyperlink {\\n  padding: 8px 14px;\\n  border: none;\\n  border-radius: 6px;\\n  cursor: pointer;\\n  font-size: 14px;\\n  font-weight: 500;\\n  transition: all 0.15s ease;\\n}\\n#apply-hyperlink {\\n  background: #1f2937;\\n  color: white;\\n}\\n#apply-hyperlink:hover {\\n  background: #000000;\\n}\\n#cancel-hyperlink {\\n  background: #f3f4f6;\\n  color: #000000;\\n}\\n#cancel-hyperlink:hover {\\n  background: #e5e7eb;\\n}\\n.temporary-selection-highlight {\\n  background-color: rgba(59, 130, 246, 0.3);\\n}\\n.popup-toolbar {\\n  position: absolute;\\n  z-index: 1001;\\n  background: #fff;\\n  border-radius: 10px;\\n  padding: 6px 8px;\\n  display: none;\\n  align-items: center;\\n  gap: 2px;\\n  box-shadow: 0 10px 25px rgba(0, 0, 0, 0.15), 0 4px 10px rgba(0, 0, 0, 0.05);\\n  border: 1px solid #e5e7eb;\\n}\\n.popup-toolbar button {\\n  background: transparent;\\n  border: none;\\n  color: #000000;\\n  cursor: pointer;\\n  padding: 6px 8px;\\n  border-radius: 6px;\\n  display: inline-flex;\\n  align-items: center;\\n  justify-content: center;\\n  transition: all 0.15s ease;\\n}\\n.popup-toolbar button:hover {\\n  background: #f3f4f6;\\n}\\n.popup-toolbar button.active {\\n  background: #e5e7eb;\\n}\\n.popup-toolbar button svg {\\n  width: 16px;\\n  height: 16px;\\n  display: block;\\n}\\n.popup-toolbar .toolbar-separator {\\n  width: 1px;\\n  height: 20px;\\n  background: #e5e7eb;\\n  margin: 0 4px;\\n}\\n.ti-toast {\\n  position: fixed;\\n  left: 50%;\\n  bottom: 24px;\\n  transform: translateX(-50%);\\n  background: #1f2937;\\n  color: #fff;\\n  padding: 12px 18px;\\n  border-radius: 10px;\\n  font-size: 14px;\\n  font-weight: 500;\\n  z-index: 2000;\\n  opacity: 0;\\n  pointer-events: none;\\n  transition: opacity 0.2s ease, transform 0.2s ease;\\n  box-shadow: 0 10px 25px rgba(0, 0, 0, 0.2);\\n}\\n.ti-toast.ti-toast--show {\\n  opacity: 1;\\n}\\n.text-igniter a {\\n  color: #2563eb;\\n  text-decoration: underline;\\n  text-decoration-color: rgba(37, 99, 235, 0.3);\\n  text-underline-offset: 2px;\\n  cursor: pointer;\\n  transition: all 0.15s ease;\\n}\\n.text-igniter a:hover {\\n  color: #1d4ed8;\\n  text-decoration-color: rgba(37, 99, 235, 0.6);\\n}\\n.text-igniter a:visited {\\n  color: #7c3aed;\\n}\\n.link-popup {\\n  position: absolute;\\n  background: #1f2937;\\n  border-radius: 8px;\\n  padding: 4px;\\n  box-shadow: 0 10px 25px rgba(0, 0, 0, 0.2);\\n  z-index: 1000;\\n  display: none;\\n  animation: fadeIn 0.15s ease;\\n  flex-direction: row;\\n  gap: 2px;\\n}\\n.link-popup button {\\n  background: transparent;\\n  color: white;\\n  border: none;\\n  padding: 6px;\\n  border-radius: 6px;\\n  cursor: pointer;\\n  font-size: 14px;\\n  transition: background 0.15s ease;\\n  width: 28px;\\n  height: 28px;\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n}\\n.link-popup button:hover {\\n  background: rgba(255, 255, 255, 0.1);\\n}\\n@keyframes fadeIn {\\n  from {\\n    opacity: 0;\\n    transform: translateY(-4px);\\n  }\\n  to {\\n    opacity: 1;\\n    transform: translateY(0);\\n  }\\n}\\n#editor img {\\n  max-width: 100%;\\n  border-radius: 8px;\\n  margin: 8px 0;\\n}\\n#editor .image-float-right {\\n  float: right;\\n  margin: 0 0 12px 16px;\\n  max-width: 200px;\\n  border-radius: 8px;\\n  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);\\n}\\n#editor .image-float-left {\\n  float: left;\\n  margin: 0 16px 12px 0;\\n  max-width: 200px;\\n  border-radius: 8px;\\n  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);\\n}\\n\")"],"mappings":"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AAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,CAA8lR;;;AFG3oR,IAAM,uBAAN,cAAmC,YAAY;AAAA,EAMpD,cAAc;AACZ,UAAM;AALR,SAAQ,cAAc;AACtB,SAAQ,SAAS,CAAC;AAClB,SAAQ,WAAW;AAIjB,QAAI,CAAC,KAAK,mBAAmB;AAC3B,WAAK,YAAY,KAAK;AAAA,IACxB;AAAA,EACF;AAAA,EAEA,WAAW,qBAAqB;AAC9B,WAAO,CAAC,QAAQ;AAAA,EAClB;AAAA,EAEA,yBAAyB,MAAc,UAAkB,UAAkB;AACzE,QAAI,SAAS,YAAY,aAAa,UAAU;AAC9C,UAAI;AACF,gBAAQ,IAAI,QAAQ;AACpB,cAAM,eAAe,KAAK,MAAM,QAAQ;AACxC,aAAK,SAAS;AACd,aAAK,iBAAiB;AAAA,MACxB,SAAS,GAAG;AACV,gBAAQ,MAAM,4BAA4B,CAAC;AAAA,MAC7C;AAAA,IACF;AAAA,EACF;AAAA,EAEA,oBAAoB;AAClB,QAAI,KAAK,aAAa;AACpB;AAAA,IACF;AACA,SAAK,iBAAiB;AAAA,EACxB;AAAA,EAEQ,mBAAmB;AAxC7B;AAyCI,QAAI,KAAK,aAAa;AACpB;AAAA,IACF;AAEA,UAAM,mBAAkB,UAAK,cAAc,mBAAmB,MAAtC,mBAAyC;AACjE,QAAI,CAAC,iBAAiB;AACpB,cAAQ,MAAM,0CAA0C;AACxD;AAAA,IACF;AAEA,QAAI;AACF,WAAK,cAAc;AACnB,WAAK,cAAc,IAAI;AAAA,QACrB;AAAA,QACA,KAAK;AAAA,MACP;AAGA,WAAK,YAAY,gBAAgB,UAAQ;AACvC,cAAM,QAAQ,IAAI,YAAY,kBAAkB;AAAA,UAC9C,QAAQ;AAAA,UACR,SAAS;AAAA,UACT,UAAU;AAAA,QACZ,CAAC;AACD,aAAK,cAAc,KAAK;AAAA,MAC1B,CAAC;AAAA,IACH,SAAS,OAAO;AACd,cAAQ,MAAM,qCAAqC,KAAK;AACxD,WAAK,cAAc;AAAA,IACrB;AAAA,EACF;AACF;AAEA,IAAI,CAAC,eAAe,IAAI,cAAc,GAAG;AACvC,iBAAe,OAAO,gBAAgB,oBAAoB;AAC5D;","names":["exports","module","t","e","n","i","o","s","l","r","a","d","c","h","u","p","g","m","k","I","C","v","E","w","x","f","b","y"]}