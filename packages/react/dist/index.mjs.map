{"version":3,"sources":["../src/components/TextIgniter.tsx"],"sourcesContent":["import React, { useEffect, useRef, useState } from \"react\";\r\nimport ReactDOM from \"react-dom/client\";\r\nimport '../types/textigniter.d.ts';\r\n\r\n// Updated interfaces to support new configuration\r\n// interface DynamicComponents {\r\n//   Basic: string[];\r\n//   Extra: string[];\r\n//   Custom?: Record<string, CustomComponentConfig>;\r\n// }\r\n\r\n// interface CustomComponentConfig {\r\n//   component: React.ComponentType<any> | string;\r\n//   svg?: string;\r\n//   title?: string;\r\n// }\r\n\r\n// interface TextigniterReactProps {\r\n//   config: DynamicComponents;\r\n//   customComponents?: Record<string, CustomComponentConfig>;\r\n// }\r\n\r\nexport const TextigniterReact: React.FC<any> = ({\r\n  config\r\n}) => {\r\n  const builderRef = useRef<HTMLElement>(null);\r\n  const [processedConfig, setProcessedConfig] = useState<any>(config);\r\n\r\n  useEffect(() => {\r\n    // Import web component\r\n    import(\"@mindfiredigital/textigniter-web-component\" as any)\r\n      .catch(error => {\r\n        console.error(\"Failed to load web component:\", error);\r\n      });\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    // Create a copy of the original config\r\n    const modifiedConfig: any = JSON.parse(JSON.stringify(config));\r\n\r\n    // Update state and set config\r\n    setProcessedConfig(modifiedConfig);\r\n  }, [config]);\r\n\r\n  // Effect to set config on web component\r\n  useEffect(() => {\r\n    if (builderRef.current) {\r\n      try {\r\n        // Convert to JSON string\r\n        const configString = JSON.stringify(processedConfig);\r\n\r\n        // Set config data attribute\r\n        builderRef.current.setAttribute(\"config\", configString);\r\n      } catch (error) {\r\n        console.error(\"Error setting config-data:\", error);\r\n      }\r\n    }\r\n  }, [processedConfig]);\r\n\r\n  return <text-igniter ref={builderRef} />;\r\n};\r\n"],"mappings":";AAAA,OAAO,SAAS,WAAW,QAAQ,gBAAgB;AAsB5C,IAAM,mBAAkC,CAAC;AAAA,EAC9C;AACF,MAAM;AACJ,QAAM,aAAa,OAAoB,IAAI;AAC3C,QAAM,CAAC,iBAAiB,kBAAkB,IAAI,SAAc,MAAM;AAElE,YAAU,MAAM;AAEd,WAAO,4CAAmD,EACvD,MAAM,WAAS;AACd,cAAQ,MAAM,iCAAiC,KAAK;AAAA,IACtD,CAAC;AAAA,EACL,GAAG,CAAC,CAAC;AAEL,YAAU,MAAM;AAEd,UAAM,iBAAsB,KAAK,MAAM,KAAK,UAAU,MAAM,CAAC;AAG7D,uBAAmB,cAAc;AAAA,EACnC,GAAG,CAAC,MAAM,CAAC;AAGX,YAAU,MAAM;AACd,QAAI,WAAW,SAAS;AACtB,UAAI;AAEF,cAAM,eAAe,KAAK,UAAU,eAAe;AAGnD,mBAAW,QAAQ,aAAa,UAAU,YAAY;AAAA,MACxD,SAAS,OAAP;AACA,gBAAQ,MAAM,8BAA8B,KAAK;AAAA,MACnD;AAAA,IACF;AAAA,EACF,GAAG,CAAC,eAAe,CAAC;AAEpB,SAAO,oCAAC,kBAAa,KAAK,YAAY;AACxC;","names":[]}