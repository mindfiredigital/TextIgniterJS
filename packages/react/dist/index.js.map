{"version":3,"sources":["../src/index.ts","../src/components/TextIgniter.tsx"],"sourcesContent":["export { TextigniterReact as Textigniter } from './components/TextIgniter'\n// import React from 'react';\n// import { TextigniterReact } from './components/TextIgniter';\n\n\n// const App = () => {\n//   return (\n//     <div style={{ height: '500px' }}>\n//       <TextigniterReact\n//         config={{\n//           showToolbar: true,\n//           features: ['bold', 'italic', 'underline', 'fontColor'],\n//         }}\n//       />\n//     </div>\n//   );\n// };\n\n// export default App;","import React, { useEffect, useRef, useState } from 'react';\nimport '../types/textigniter.d.ts';\n\n// Updated interfaces to support new configuration\n// interface DynamicComponents {\n//   Basic: string[];\n//   Extra: string[];\n//   Custom?: Record<string, CustomComponentConfig>;\n// }\n\n// interface CustomComponentConfig {\n//   component: React.ComponentType<any> | string;\n//   svg?: string;\n//   title?: string;\n// }\n\ninterface TextigniterReactProps {\n  config: any;\n  onContentChange?: (data: { html: string; text: string }) => void;\n}\n\nexport const TextigniterReact: React.FC<TextigniterReactProps> = ({\n  config,\n  onContentChange,\n}) => {\n  const builderRef = useRef<HTMLElement>(null);\n  const [processedConfig, setProcessedConfig] = useState<any>(config);\n\n  useEffect(() => {\n    // Import web component\n    import('@mindfiredigital/textigniter-web-component' as any).catch(error => {\n      console.error('Failed to load web component:', error);\n    });\n  }, []);\n\n  useEffect(() => {\n    // Create a copy of the original config\n    const modifiedConfig: any = JSON.parse(JSON.stringify(config));\n\n    // Update state and set config\n    setProcessedConfig(modifiedConfig);\n  }, [config]);\n\n  // Effect to set config on web component\n  useEffect(() => {\n    if (builderRef.current) {\n      try {\n        // Convert to JSON string\n        const configString = JSON.stringify(processedConfig);\n\n        // Set config data attribute\n        builderRef.current.setAttribute('config', configString);\n      } catch (error) {\n        console.error('Error setting config-data:', error);\n      }\n    }\n  }, [processedConfig]);\n\n  // Effect to handle content change events\n  useEffect(() => {\n    const element = builderRef.current;\n    if (!element || !onContentChange) return;\n\n    const handleContentChange = (event: any) => {\n      onContentChange(event.detail);\n    };\n\n    element.addEventListener('content-change', handleContentChange);\n\n    return () => {\n      element.removeEventListener('content-change', handleContentChange);\n    };\n  }, [onContentChange]);\n\n  return <text-igniter ref={builderRef} />;\n};\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;;;ACAA,mBAAmD;AAqB5C,IAAM,mBAAoD,CAAC;AAAA,EAChE;AAAA,EACA;AACF,MAAM;AACJ,QAAM,iBAAa,qBAAoB,IAAI;AAC3C,QAAM,CAAC,iBAAiB,kBAAkB,QAAI,uBAAc,MAAM;AAElE,8BAAU,MAAM;AAEd,WAAO,4CAAmD,EAAE,MAAM,WAAS;AACzE,cAAQ,MAAM,iCAAiC,KAAK;AAAA,IACtD,CAAC;AAAA,EACH,GAAG,CAAC,CAAC;AAEL,8BAAU,MAAM;AAEd,UAAM,iBAAsB,KAAK,MAAM,KAAK,UAAU,MAAM,CAAC;AAG7D,uBAAmB,cAAc;AAAA,EACnC,GAAG,CAAC,MAAM,CAAC;AAGX,8BAAU,MAAM;AACd,QAAI,WAAW,SAAS;AACtB,UAAI;AAEF,cAAM,eAAe,KAAK,UAAU,eAAe;AAGnD,mBAAW,QAAQ,aAAa,UAAU,YAAY;AAAA,MACxD,SAAS,OAAP;AACA,gBAAQ,MAAM,8BAA8B,KAAK;AAAA,MACnD;AAAA,IACF;AAAA,EACF,GAAG,CAAC,eAAe,CAAC;AAGpB,8BAAU,MAAM;AACd,UAAM,UAAU,WAAW;AAC3B,QAAI,CAAC,WAAW,CAAC;AAAiB;AAElC,UAAM,sBAAsB,CAAC,UAAe;AAC1C,sBAAgB,MAAM,MAAM;AAAA,IAC9B;AAEA,YAAQ,iBAAiB,kBAAkB,mBAAmB;AAE9D,WAAO,MAAM;AACX,cAAQ,oBAAoB,kBAAkB,mBAAmB;AAAA,IACnE;AAAA,EACF,GAAG,CAAC,eAAe,CAAC;AAEpB,SAAO,6BAAAA,QAAA,cAAC,kBAAa,KAAK,YAAY;AACxC;","names":["React"]}